/*! third party licenses: js/vendor.LICENSE.txt */
import{l as P,g as V}from"./function-apply-Cg0-wzTm.chunk.mjs";import{n as l,r as I,G as $,u as Y,t as j,a as Z,c as C,v as k,d as D,N as G,s as A,b as U}from"./_plugin-vue2_normalizer-C2ezgm4z.chunk.mjs";import{l as E}from"./logger-B-u538o2.chunk.mjs";var _={};Object.defineProperty(_,"__esModule",{value:!0});var v=_.Type=void 0,y;v=_.Type=y,function(e){e[e.SHARE_TYPE_USER=0]="SHARE_TYPE_USER",e[e.SHARE_TYPE_GROUP=1]="SHARE_TYPE_GROUP",e[e.SHARE_TYPE_LINK=3]="SHARE_TYPE_LINK",e[e.SHARE_TYPE_EMAIL=4]="SHARE_TYPE_EMAIL",e[e.SHARE_TYPE_REMOTE=6]="SHARE_TYPE_REMOTE",e[e.SHARE_TYPE_CIRCLE=7]="SHARE_TYPE_CIRCLE",e[e.SHARE_TYPE_GUEST=8]="SHARE_TYPE_GUEST",e[e.SHARE_TYPE_REMOTE_GROUP=9]="SHARE_TYPE_REMOTE_GROUP",e[e.SHARE_TYPE_ROOM=10]="SHARE_TYPE_ROOM",e[e.SHARE_TYPE_DECK=12]="SHARE_TYPE_DECK"}(y||(v=_.Type=y={}));var b=Symbol(),p=Symbol(),S=Symbol(),N=Symbol(),x=function(e){return"frag"in e},F={get:function(){return this[p]||this.parentElement},configurable:!0},f=function(e,i){p in e||(e[p]=i,Object.defineProperty(e,"parentNode",F))},W={get:function(){var e=this.parentNode.childNodes,i=e.indexOf(this);return i>-1&&e[i+1]||null}},g=function(e){S in e||(e[S]=!0,Object.defineProperty(e,"nextSibling",W))},K=function(e,i){for(;e.parentNode!==i;){var a=e,n=a.parentNode;n&&(e=n)}return e},w,M=function(e){if(!w){var i=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes");w=i.get}var a=w.apply(e),n=Array.from(a).map(function(r){return K(r,e)});return n.filter(function(r,s){return r!==n[s-1]})},q={get:function(){return this.frag||M(this)}},J={get:function(){return this.childNodes[0]||null}};function Q(){return this.childNodes.length>0}var L=function(e){N in e||(e[N]=!0,Object.defineProperties(e,{childNodes:q,firstChild:J}),e.hasChildNodes=Q)};function X(){var e;(e=this.frag[0]).before.apply(e,arguments)}function tt(){var e=this.frag,i=e.splice(0,e.length);i.forEach(function(a){a.remove()})}var et=function e(i){var a;return(a=Array.prototype).concat.apply(a,i.map(function(n){return x(n)?e(n.frag):n}))},it=function(e,i){var a=e[b];i.before(a),f(a,e),e.frag.unshift(a)};function T(e){if(x(this)){var i=this.frag.indexOf(e);if(i>-1){var a=this.frag.splice(i,1),n=a[0];this.frag.length===0&&it(this,n),e.remove()}}else{var r=M(this),s=r.indexOf(e);s>-1&&e.remove()}return e}function H(e,i){var a=this,n=e.frag||[e];if(x(this)){if(e[p]===this&&e.parentElement)return e;var r=this.frag;if(i){var s=r.indexOf(i);s>-1&&(r.splice.apply(r,[s,0].concat(n)),i.before.apply(i,n))}else{var c=r[r.length-1];r.push.apply(r,n),c.after.apply(c,n)}B(this)}else i?this.childNodes.includes(i)&&i.before.apply(i,n):this.append.apply(this,n);n.forEach(function(O){f(O,a)});var m=n[n.length-1];return g(m),e}function at(e){if(e[p]===this&&e.parentElement)return e;var i=this.frag,a=i[i.length-1];return a.after(e),f(e,this),B(this),i.push(e),e}var B=function(e){var i=e[b];e.frag[0]===i&&(e.frag.shift(),i.remove())},nt={set:function(e){var i=this;if(this.frag[0]!==this[b]&&this.frag.slice().forEach(function(n){return i.removeChild(n)}),e){var a=document.createElement("div");a.innerHTML=e,Array.from(a.childNodes).forEach(function(n){i.appendChild(n)})}},get:function(){return""}},rt={inserted:function(e){var i=e.parentNode,a=e.nextSibling,n=e.previousSibling,r=Array.from(e.childNodes),s=document.createComment("");r.length===0&&r.push(s),e.frag=r,e[b]=s;var c=document.createDocumentFragment();c.append.apply(c,et(r)),e.replaceWith(c),r.forEach(function(m){f(m,e),g(m)}),L(e),Object.assign(e,{remove:tt,appendChild:at,insertBefore:H,removeChild:T,before:X}),Object.defineProperty(e,"innerHTML",nt),i&&(Object.assign(i,{removeChild:T,insertBefore:H}),f(e,i),L(i)),a&&g(e),n&&g(n)},unbind:function(e){e.remove()}},lt={name:"Fragment",directives:{frag:rt},render:function(e){return e("div",{directives:[{name:"frag"}]},this.$slots.default)}};const st={name:"NcLoadingIcon",props:{size:{type:Number,default:20},appearance:{type:String,validator(e){return["auto","light","dark"].includes(e)},default:"auto"},name:{type:String,default:""}},computed:{colors(){const e=["#777","#CCC"];return this.appearance==="light"?e:this.appearance==="dark"?e.reverse():["var(--color-loading-light)","var(--color-loading-dark)"]}}};var ot=function(){var e=this,i=e._self._c;return i("span",{staticClass:"material-design-icon loading-icon",attrs:{"aria-label":e.name,role:"img"}},[i("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:e.colors[0],d:"M12,4V2A10,10 0 1,0 22,12H20A8,8 0 1,1 12,4Z"}}),i("path",{attrs:{fill:e.colors[1],d:"M12,4V2A10,10 0 0,1 22,12H20A8,8 0 0,0 12,4Z"}},[e.name?i("title",[e._v(e._s(e.name))]):e._e()])])])},ct=[],dt=l(st,ot,ct,!1,null,"551209a3");const ut=dt.exports,ht={name:"CheckboxMarkedCircleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var pt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon checkbox-marked-circle-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},ft=[],mt=l(ht,pt,ft,!1,null,null);const gt=mt.exports,_t={name:"AlertDecagramIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var vt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon alert-decagram-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M13,17H11V15H13V17M13,13H11V7H13V13Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},bt=[],yt=l(_t,vt,bt,!1,null,null);const wt=yt.exports,Ct={name:"AlertIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var kt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon alert-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},xt=[],At=l(Ct,kt,xt,!1,null,null);const R=At.exports,Et={name:"InformationIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var St=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon information-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Nt=[],Lt=l(Et,St,Nt,!1,null,null);const Tt=Lt.exports,Ht={name:"NcNoteCard",props:{type:{type:String,default:"warning",validator:e=>["success","info","warning","error"].includes(e)},showAlert:{type:Boolean,default:!1},heading:{type:String,default:""},text:{type:String,default:""}},computed:{shouldShowAlert(){return this.showAlert||this.type==="error"},icon(){switch(this.type){case"error":return wt;case"success":return gt;case"info":return Tt;case"warning":return R;default:return R}},color(){switch(this.type){case"error":return"var(--color-error)";case"success":return"var(--color-success)";case"info":return"var(--color-info)";case"warning":return"var(--color-warning)";default:return"var(--color-warning)"}}}};var Rt=function(){var e=this,i=e._self._c;return i("div",{staticClass:"notecard",class:`notecard--${e.type}`,attrs:{role:e.shouldShowAlert?"alert":"note"}},[e._t("icon",function(){return[i(e.icon,{tag:"component",staticClass:"notecard__icon",class:{"notecard__icon--heading":e.heading},attrs:{"fill-color":e.color,size:20}})]}),i("div",[e.heading?i("p",{staticClass:"notecard__heading"},[e._v(" "+e._s(e.heading)+" ")]):e._e(),e._t("default",function(){return[i("p",{staticClass:"notecard__text"},[e._v(" "+e._s(e.text)+" ")])]})],2)],2)},zt=[],Mt=l(Ht,Rt,zt,!1,null,"7df28e9e");const Bt=Mt.exports;I();const Ot={name:"CheckboxBlankOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Pt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon checkbox-blank-outline-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Vt=[],It=l(Ot,Pt,Vt,!1,null,null);const $t=It.exports,Yt={name:"MinusBoxIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var jt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon minus-box-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Zt=[],Dt=l(Yt,jt,Zt,!1,null,null);const Gt=Dt.exports,Ut={name:"CheckboxMarkedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Ft=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon checkbox-marked-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Wt=[],Kt=l(Ut,Ft,Wt,!1,null,null);const qt=Kt.exports,Jt={name:"RadioboxMarkedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Qt=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon radiobox-marked-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},Xt=[],te=l(Jt,Qt,Xt,!1,null,null);const ee=te.exports,ie={name:"RadioboxBlankIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ae=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon radiobox-blank-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},ne=[],re=l(ie,ae,ne,!1,null,null);const le=re.exports,se={name:"ToggleSwitchOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var oe=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon toggle-switch-off-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},ce=[],de=l(se,oe,ce,!1,null,null);const ue=de.exports,he={name:"ToggleSwitchIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var pe=function(){var e=this,i=e._self._c;return i("span",e._b({staticClass:"material-design-icon toggle-switch-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(a){return e.$emit("click",a)}}},"span",e.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z"}},[e.title?i("title",[e._v(e._s(e.title))]):e._e()])])])},fe=[],me=l(he,pe,fe,!1,null,null);const ge=me.exports,d="checkbox",u="radio",o="switch",h="button",_e={name:"NcCheckboxContent",components:{NcLoadingIcon:ut},props:{iconClass:{type:[String,Object],default:null},textClass:{type:[String,Object],default:null},type:{type:String,default:"checkbox",validator:e=>[d,u,o,h].includes(e)},buttonVariant:{type:Boolean,default:!1},isChecked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:Number,default:24}},computed:{isButtonType(){return this.type===h},checkboxRadioIconElement(){return this.type===u?this.isChecked?ee:le:this.type===o?this.isChecked?ge:ue:this.indeterminate?Gt:this.isChecked?qt:$t}}};var ve=function(){var e=this,i=e._self._c;return i("span",{staticClass:"checkbox-content",class:{["checkbox-content-"+e.type]:!0,"checkbox-content--button-variant":e.buttonVariant,"checkbox-content--has-text":!!e.$slots.default}},[i("span",{class:{"checkbox-content__icon":!0,"checkbox-content__icon--checked":e.isChecked,[e.iconClass]:!0},attrs:{"aria-hidden":!0,inert:""}},[e._t("icon",function(){return[e.loading?i("NcLoadingIcon"):e.buttonVariant?e._e():i(e.checkboxRadioIconElement,{tag:"component",attrs:{size:e.size}})]},{checked:e.isChecked,loading:e.loading})],2),e.$slots.default?i("span",{class:["checkbox-content__text",e.textClass]},[e._t("default")],2):e._e()])},be=[],ye=l(_e,ve,be,!1,null,"18de8bed");const we=ye.exports,Ce={name:"NcCheckboxRadioSwitch",components:{NcCheckboxContent:we},inheritAttrs:!1,model:{prop:"modelValue",event:"update:modelValue"},props:{id:{type:String,default:()=>"checkbox-radio-switch-"+$(),validator:e=>e.trim()!==""},wrapperId:{type:String,default:null},name:{type:String,default:null},ariaLabel:{type:String,default:""},type:{type:String,default:"checkbox",validator:e=>[d,u,o,h].includes(e)},buttonVariant:{type:Boolean,default:!1},buttonVariantGrouped:{type:String,default:"no",validator:e=>["no","vertical","horizontal"].includes(e)},checked:{type:[Boolean,Array,String],default:void 0},modelValue:{type:[Boolean,Array,String],default:!1},value:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},wrapperElement:{type:String,default:null}},emits:["update:checked","update:modelValue","update:model-value"],setup(){return{model:Y("checked","update:checked")}},computed:{dataAttrs(){return Object.fromEntries(Object.entries(this.$attrs).filter(([e])=>e.startsWith("data-")))},nonDataAttrs(){return Object.fromEntries(Object.entries(this.$attrs).filter(([e])=>!e.startsWith("data-")))},isButtonType(){return this.type===h},computedWrapperElement(){return this.isButtonType?"button":this.wrapperElement!==null?this.wrapperElement:"span"},listeners(){return this.isButtonType?{click:this.onToggle}:{change:this.onToggle}},size(){return this.type===o?36:24},cssVars(){return{"--icon-size":this.size+"px","--icon-height":(this.type===o?16:this.size)+"px"}},inputType(){return[d,u,h].includes(this.type)?this.type:d},isChecked(){return this.value!==null?Array.isArray(this.model)?[...this.model].indexOf(this.value)>-1:this.model===this.value:this.model===!0},hasIndeterminate(){return[d,u].includes(this.inputType)}},mounted(){if(this.name&&this.type===d&&!Array.isArray(this.model))throw new Error("When using groups of checkboxes, the updated value will be an array.");if(this.name&&this.type===o)throw new Error("Switches are not made to be used for data sets. Please use checkboxes instead.");if(typeof this.model!="boolean"&&this.type===o)throw new Error("Switches can only be used with boolean as checked prop.")},methods:{t:j,n:Z,onToggle(e){if(this.disabled||e.target.tagName.toLowerCase()==="a")return;if(this.type===u){this.model=this.value;return}if(this.type===o){this.model=!this.isChecked;return}if(typeof this.model=="boolean"){this.model=!this.model;return}const i=this.getInputsSet().filter(a=>a.checked).map(a=>a.value);i.includes(this.value)?this.model=i.filter(a=>a!==this.value):this.model=[...i,this.value]},getInputsSet(){return[...document.getElementsByName(this.name)]}}};var ke=function(){var e=this,i=e._self._c;return i(e.computedWrapperElement,e._g(e._b({tag:"component",staticClass:"checkbox-radio-switch",class:{["checkbox-radio-switch-"+e.type]:e.type,"checkbox-radio-switch--checked":e.isChecked,"checkbox-radio-switch--disabled":e.disabled,"checkbox-radio-switch--indeterminate":e.hasIndeterminate?e.indeterminate:!1,"checkbox-radio-switch--button-variant":e.buttonVariant,"checkbox-radio-switch--button-variant-v-grouped":e.buttonVariant&&e.buttonVariantGrouped==="vertical","checkbox-radio-switch--button-variant-h-grouped":e.buttonVariant&&e.buttonVariantGrouped==="horizontal","button-vue":e.isButtonType},style:e.cssVars,attrs:{id:e.wrapperId,"aria-label":e.isButtonType&&e.ariaLabel?e.ariaLabel:void 0,type:e.isButtonType?"button":null}},"component",e.isButtonType?e.$attrs:e.dataAttrs,!1),e.isButtonType?e.listeners:null),[e.isButtonType?e._e():i("input",e._g(e._b({staticClass:"checkbox-radio-switch__input",attrs:{id:e.id,"aria-labelledby":!e.isButtonType&&!e.ariaLabel?`${e.id}-label`:null,"aria-label":e.ariaLabel||void 0,disabled:e.disabled,type:e.inputType,required:e.required,name:e.name},domProps:{value:e.value,checked:e.isChecked,indeterminate:e.hasIndeterminate?e.indeterminate:null}},"input",e.nonDataAttrs,!1),e.listeners)),i("NcCheckboxContent",{staticClass:"checkbox-radio-switch__content",attrs:{id:e.isButtonType?void 0:`${e.id}-label`,"icon-class":"checkbox-radio-switch__icon","text-class":"checkbox-radio-switch__text",type:e.type,indeterminate:e.hasIndeterminate?e.indeterminate:!1,"button-variant":e.buttonVariant,"is-checked":e.isChecked,loading:e.loading,size:e.size},nativeOn:{click:function(a){return e.onToggle.apply(null,arguments)}},scopedSlots:e._u([{key:"icon",fn:function(){return[e._t("icon")]},proxy:!0}],null,!0)},[e._t("default")],2)],1)},xe=[],Ae=l(Ce,ke,xe,!1,null,"22cdd229");const Ee=Ae.exports,Se=async e=>(await C.get(k("/apps/files_downloadlimit/api/v1/{token}/limit",{token:e}))).data.ocs.data,Ne=async(e,i)=>(await C.put(k("/apps/files_downloadlimit/api/v1/{token}/limit",{token:e}),{limit:i})).data.ocs.data,Le=async e=>(await C.delete(k("/apps/files_downloadlimit/api/v1/{token}/limit",{token:e}))).data.ocs.data,z=P("files_downloadlimit","default-download-limit",-1),Te=z===-1?"":z,He=D({name:"DownloadLimitEntry",components:{Fragment:lt,NcCheckboxRadioSwitch:Ee,NcNoteCard:Bt,NcTextField:G},props:{share:{type:Object,required:!0}},data(){return{limitEnabled:!1,initialLimit:null,limit:Te,count:null,loading:!1,hasError:!1}},computed:{remainingCount(){return this.initialLimit-this.count},helperText(){return this.limit>0?"":t("files_downloadlimit","The minimum limit is 1")},isNewShare(){return this.share.id===null||this.share.id===void 0},showRemainingDownloadsNote(){return typeof this.count=="number"},showResetNote(){return!this.isNewShare&&!!this.initialLimit&&typeof this.limit=="number"&&this.limit!==this.initialLimit}},async created(){E.debug("Loading download limit",{share:this.share}),this.loading=!0;try{const{limit:e,count:i}=await Se(this.share.token);typeof e=="number"&&typeof i=="number"&&(this.limitEnabled=!!e,this.initialLimit=e,this.limit=e,this.count=i)}catch(e){this.hasError=!0,E.error("Failed to load download limit",{error:e,share:this.share})}this.loading=!1},methods:{handleUpdateLimit(e){this.limit=Number(e)},async onSave(){if(typeof this.limit=="number"&&this.limit>0){if(this.isNewShare||this.limit!==this.initialLimit){try{await Ne(this.share.token,this.limit)}catch{A(t("files_downloadlimit","Failed to set download limit"))}return}if(!this.limitEnabled&&this.initialLimit)try{await Le(this.share.token)}catch{A(t("files_downloadlimit","Failed to remove download limit"))}}}}});var Re=function(){var e=this,i=e._self._c;return e._self._setupProxy,i("Fragment",[i("NcCheckboxRadioSwitch",{attrs:{checked:e.limitEnabled,loading:e.loading,disabled:e.hasError},on:{"update:checked":function(a){e.limitEnabled=a}}},[e._v(" "+e._s(e.t("files_downloadlimit","Limit downloads"))+" ")]),!e.loading&&!e.hasError?[i("NcNoteCard",{directives:[{name:"show",rawName:"v-show",value:e.limitEnabled&&e.showRemainingDownloadsNote,expression:"limitEnabled && showRemainingDownloadsNote"}],staticClass:"action__count-note",attrs:{type:"info"}},[e._v(" "+e._s(e.n("files_downloadlimit","1 remaining download allowed","{count} remaining downloads allowed",e.remainingCount,{count:e.remainingCount}))+" ")]),i("NcTextField",{directives:[{name:"show",rawName:"v-show",value:e.limitEnabled,expression:"limitEnabled"}],attrs:{label:e.t("files_downloadlimit","Set download limit"),type:"number",min:"1",value:e.limit,"helper-text":e.helperText,error:!!e.helperText},on:{"update:value":e.handleUpdateLimit}}),i("NcNoteCard",{directives:[{name:"show",rawName:"v-show",value:e.limitEnabled&&e.showResetNote,expression:"limitEnabled && showResetNote"}],staticClass:"action__reset-note",attrs:{type:"warning"}},[e._v(" "+e._s(e.t("files_downloadlimit","Setting a new limit will reset the download count"))+" ")])]:e._e()],2)},ze=[],Me=U(He,Re,ze,!1,null,"6af3ebb2");const Be=Me.exports;class Oe{get id(){return"files_downloadlimit"}get shareType(){return[v.SHARE_TYPE_LINK,v.SHARE_TYPE_EMAIL]}data({share:i,fileInfo:a}){return typeof i.token!="string"||a.type!=="file"||i.owner!==V()?.uid?{}:{is:Be,share:i}}get advanced(){return!0}get handlers(){return{}}}window.addEventListener("DOMContentLoaded",()=>{OCA.Sharing.ExternalShareActions.registerAction(new Oe)});
//# sourceMappingURL=files_downloadlimit-main.mjs.map
