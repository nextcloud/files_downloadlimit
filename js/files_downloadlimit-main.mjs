import{l as Te,p as Rt,g as Pr,a as xr,b as Dr,t as jt,c as Rr,d as It}from"./logger-BdqqYjbj.chunk.mjs";import{g as Gt,a as Fr,B as ee,_ as Ur,d as fr,c as Wt,o as zt,r as Re,b as Fe,e as xt,n as Ft,f as Ue,u as $e,N as $r,h as pr,t as Ut,i as Mr,m as jr,j as Gr,k as kr,l as Xr,p as Ne,q as Ae,s as Vr,v as Wr,w as Me,x as zr,y as re,z as ne,A as ie,F as Yr,C as oe,D as se,E as qr}from"./_plugin-vue_export-helper-LmGq7aTb.chunk.mjs";function gr(){return Te("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function Hr(){return Te("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}function At(s,r,n){return r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function je(s,r,n){Qr(s,r),r.set(s,n)}function Qr(s,r){if(r.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function it(s,r){var n=dr(s,r,"get");return Zr(s,n)}function Zr(s,r){return r.get?r.get.call(s):r.value}function Ge(s,r,n){var u=dr(s,r,"set");return Jr(s,u,n),n}function dr(s,r,n){if(!r.has(s))throw new TypeError("attempted to "+n+" private field on non-instance");return r.get(s)}function Jr(s,r,n){if(r.set)r.set.call(s,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}var Kr=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",ut=new WeakMap,Bt=new WeakMap;class Qt{constructor(r){var{executor:n=()=>{},internals:u=Ie(),promise:h=new Promise((g,I)=>n(g,I,N=>{u.onCancelList.push(N)}))}=r;je(this,ut,{writable:!0,value:void 0}),je(this,Bt,{writable:!0,value:void 0}),At(this,Kr,"CancelablePromise"),this.cancel=this.cancel.bind(this),Ge(this,ut,u),Ge(this,Bt,h||new Promise((g,I)=>n(g,I,N=>{u.onCancelList.push(N)})))}then(r,n){return Vt(it(this,Bt).then(kt(r,it(this,ut)),kt(n,it(this,ut))),it(this,ut))}catch(r){return Vt(it(this,Bt).catch(kt(r,it(this,ut))),it(this,ut))}finally(r,n){return n&&it(this,ut).onCancelList.push(r),Vt(it(this,Bt).finally(kt(()=>{if(r)return n&&(it(this,ut).onCancelList=it(this,ut).onCancelList.filter(u=>u!==r)),r()},it(this,ut))),it(this,ut))}cancel(){it(this,ut).isCanceled=!0;var r=it(this,ut).onCancelList;it(this,ut).onCancelList=[];for(var n of r)if(typeof n=="function")try{n()}catch(u){console.error(u)}}isCanceled(){return it(this,ut).isCanceled===!0}}class vt extends Qt{constructor(r){super({executor:r})}}At(vt,"all",function(s){return Xt(s,Promise.all(s))}),At(vt,"allSettled",function(s){return Xt(s,Promise.allSettled(s))}),At(vt,"any",function(s){return Xt(s,Promise.any(s))}),At(vt,"race",function(s){return Xt(s,Promise.race(s))}),At(vt,"resolve",function(s){return ke(Promise.resolve(s))}),At(vt,"reject",function(s){return ke(Promise.reject(s))}),At(vt,"isCancelable",ve);function ke(s){return Vt(s,Ie())}function ve(s){return s instanceof vt||s instanceof Qt}function kt(s,r){if(s)return n=>{if(!r.isCanceled){var u=s(n);return ve(u)&&r.onCancelList.push(u.cancel),u}return n}}function Vt(s,r){return new Qt({internals:r,promise:s})}function Xt(s,r){var n=Ie();return n.onCancelList.push(()=>{for(var u of s)ve(u)&&u.cancel()}),new Qt({internals:n,promise:r})}function Ie(){return{isCanceled:!1,onCancelList:[]}}var ae={},tn={2:s=>{function r(h,g,I){h instanceof RegExp&&(h=n(h,I)),g instanceof RegExp&&(g=n(g,I));var N=u(h,g,I);return N&&{start:N[0],end:N[1],pre:I.slice(0,N[0]),body:I.slice(N[0]+h.length,N[1]),post:I.slice(N[1]+g.length)}}function n(h,g){var I=g.match(h);return I?I[0]:null}function u(h,g,I){var N,b,l,o,A,f=I.indexOf(h),m=I.indexOf(g,f+1),v=f;if(f>=0&&m>0){for(N=[],l=I.length;v>=0&&!A;)v==f?(N.push(v),f=I.indexOf(h,v+1)):N.length==1?A=[N.pop(),m]:((b=N.pop())<l&&(l=b,o=m),m=I.indexOf(g,v+1)),v=f<m&&f>=0?f:m;N.length&&(A=[l,o])}return A}s.exports=r,r.range=u},47:(s,r,n)=>{var u=n(410),h=function(l){return typeof l=="string"};function g(l,o){for(var A=[],f=0;f<l.length;f++){var m=l[f];m&&m!=="."&&(m===".."?A.length&&A[A.length-1]!==".."?A.pop():o&&A.push(".."):A.push(m))}return A}var I=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,N={};function b(l){return I.exec(l).slice(1)}N.resolve=function(){for(var l="",o=!1,A=arguments.length-1;A>=-1&&!o;A--){var f=A>=0?arguments[A]:Rt.cwd();if(!h(f))throw new TypeError("Arguments to path.resolve must be strings");f&&(l=f+"/"+l,o=f.charAt(0)==="/")}return(o?"/":"")+(l=g(l.split("/"),!o).join("/"))||"."},N.normalize=function(l){var o=N.isAbsolute(l),A=l.substr(-1)==="/";return(l=g(l.split("/"),!o).join("/"))||o||(l="."),l&&A&&(l+="/"),(o?"/":"")+l},N.isAbsolute=function(l){return l.charAt(0)==="/"},N.join=function(){for(var l="",o=0;o<arguments.length;o++){var A=arguments[o];if(!h(A))throw new TypeError("Arguments to path.join must be strings");A&&(l+=l?"/"+A:A)}return N.normalize(l)},N.relative=function(l,o){function A(d){for(var T=0;T<d.length&&d[T]==="";T++);for(var _=d.length-1;_>=0&&d[_]==="";_--);return T>_?[]:d.slice(T,_+1)}l=N.resolve(l).substr(1),o=N.resolve(o).substr(1);for(var f=A(l.split("/")),m=A(o.split("/")),v=Math.min(f.length,m.length),p=v,B=0;B<v;B++)if(f[B]!==m[B]){p=B;break}var w=[];for(B=p;B<f.length;B++)w.push("..");return(w=w.concat(m.slice(p))).join("/")},N._makeLong=function(l){return l},N.dirname=function(l){var o=b(l),A=o[0],f=o[1];return A||f?(f&&(f=f.substr(0,f.length-1)),A+f):"."},N.basename=function(l,o){var A=b(l)[2];return o&&A.substr(-1*o.length)===o&&(A=A.substr(0,A.length-o.length)),A},N.extname=function(l){return b(l)[3]},N.format=function(l){if(!u.isObject(l))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof l);var o=l.root||"";if(!h(o))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof l.root);return(l.dir?l.dir+N.sep:"")+(l.base||"")},N.parse=function(l){if(!h(l))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof l);var o=b(l);if(!o||o.length!==4)throw new TypeError("Invalid path '"+l+"'");return o[1]=o[1]||"",o[2]=o[2]||"",o[3]=o[3]||"",{root:o[0],dir:o[0]+o[1].slice(0,o[1].length-1),base:o[2],ext:o[3],name:o[2].slice(0,o[2].length-o[3].length)}},N.sep="/",N.delimiter=":",s.exports=N},101:function(s,r,n){var u;s=n.nmd(s),(function(){var h=(s&&s.exports,typeof Gt=="object"&&Gt);h.global!==h&&h.window;var g=function(o){this.message=o};(g.prototype=new Error).name="InvalidCharacterError";var I=function(o){throw new g(o)},N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=/[\t\n\f\r ]/g,l={encode:function(o){o=String(o),/[^\0-\xFF]/.test(o)&&I("The string to be encoded contains characters outside of the Latin1 range.");for(var A,f,m,v,p=o.length%3,B="",w=-1,d=o.length-p;++w<d;)A=o.charCodeAt(w)<<16,f=o.charCodeAt(++w)<<8,m=o.charCodeAt(++w),B+=N.charAt((v=A+f+m)>>18&63)+N.charAt(v>>12&63)+N.charAt(v>>6&63)+N.charAt(63&v);return p==2?(A=o.charCodeAt(w)<<8,f=o.charCodeAt(++w),B+=N.charAt((v=A+f)>>10)+N.charAt(v>>4&63)+N.charAt(v<<2&63)+"="):p==1&&(v=o.charCodeAt(w),B+=N.charAt(v>>2)+N.charAt(v<<4&63)+"=="),B},decode:function(o){var A=(o=String(o).replace(b,"")).length;A%4==0&&(A=(o=o.replace(/==?$/,"")).length),(A%4==1||/[^+a-zA-Z0-9/]/.test(o))&&I("Invalid character: the string to be decoded is not correctly encoded.");for(var f,m,v=0,p="",B=-1;++B<A;)m=N.indexOf(o.charAt(B)),f=v%4?64*f+m:m,v++%4&&(p+=String.fromCharCode(255&f>>(-2*v&6)));return p},version:"1.0.0"};(u=function(){return l}.call(r,n,r,s))===void 0||(s.exports=u)})()},135:s=>{function r(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}s.exports=function(n){return n!=null&&(r(n)||(function(u){return typeof u.readFloatLE=="function"&&typeof u.slice=="function"&&r(u.slice(0,0))})(n)||!!n._isBuffer)}},172:(s,r)=>{r.d=function(n){if(!n)return 0;for(var u=(n=n.toString()).length,h=n.length;h--;){var g=n.charCodeAt(h);56320<=g&&g<=57343&&h--,127<g&&g<=2047?u++:2047<g&&g<=65535&&(u+=2)}return u}},285:(s,r,n)=>{var u=n(2);s.exports=function(w){return w?(w.substr(0,2)==="{}"&&(w="\\{\\}"+w.substr(2)),B((function(d){return d.split("\\\\").join(h).split("\\{").join(g).split("\\}").join(I).split("\\,").join(N).split("\\.").join(b)})(w),!0).map(o)):[]};var h="\0SLASH"+Math.random()+"\0",g="\0OPEN"+Math.random()+"\0",I="\0CLOSE"+Math.random()+"\0",N="\0COMMA"+Math.random()+"\0",b="\0PERIOD"+Math.random()+"\0";function l(w){return parseInt(w,10)==w?parseInt(w,10):w.charCodeAt(0)}function o(w){return w.split(h).join("\\").split(g).join("{").split(I).join("}").split(N).join(",").split(b).join(".")}function A(w){if(!w)return[""];var d=[],T=u("{","}",w);if(!T)return w.split(",");var _=T.pre,O=T.body,U=T.post,D=_.split(",");D[D.length-1]+="{"+O+"}";var $=A(U);return U.length&&(D[D.length-1]+=$.shift(),D.push.apply(D,$)),d.push.apply(d,D),d}function f(w){return"{"+w+"}"}function m(w){return/^-?0\d/.test(w)}function v(w,d){return w<=d}function p(w,d){return w>=d}function B(w,d){var T=[],_=u("{","}",w);if(!_)return[w];var O=_.pre,U=_.post.length?B(_.post,!1):[""];if(/\$$/.test(_.pre))for(var D=0;D<U.length;D++){var $=O+"{"+_.body+"}"+U[D];T.push($)}else{var E,M,k=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(_.body),S=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(_.body),F=k||S,tt=_.body.indexOf(",")>=0;if(!F&&!tt)return _.post.match(/,(?!,).*\}/)?B(w=_.pre+"{"+_.body+I+_.post):[w];if(F)E=_.body.split(/\.\./);else if((E=A(_.body)).length===1&&(E=B(E[0],!1).map(f)).length===1)return U.map((function(Et){return _.pre+E[0]+Et}));if(F){var z=l(E[0]),ot=l(E[1]),j=Math.max(E[0].length,E[1].length),et=E.length==3?Math.abs(l(E[2])):1,dt=v;ot<z&&(et*=-1,dt=p);var mt=E.some(m);M=[];for(var J=z;dt(J,ot);J+=et){var st;if(S)(st=String.fromCharCode(J))==="\\"&&(st="");else if(st=String(J),mt){var St=j-st.length;if(St>0){var Tt=new Array(St+1).join("0");st=J<0?"-"+Tt+st.slice(1):Tt+st}}M.push(st)}}else{M=[];for(var ft=0;ft<E.length;ft++)M.push.apply(M,B(E[ft],!1))}for(ft=0;ft<M.length;ft++)for(D=0;D<U.length;D++)$=O+M[ft]+U[D],(!d||F||$)&&T.push($)}return T}},298:s=>{var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(u,h){return u<<h|u>>>32-h},rotr:function(u,h){return u<<32-h|u>>>h},endian:function(u){if(u.constructor==Number)return 16711935&n.rotl(u,8)|4278255360&n.rotl(u,24);for(var h=0;h<u.length;h++)u[h]=n.endian(u[h]);return u},randomBytes:function(u){for(var h=[];u>0;u--)h.push(Math.floor(256*Math.random()));return h},bytesToWords:function(u){for(var h=[],g=0,I=0;g<u.length;g++,I+=8)h[I>>>5]|=u[g]<<24-I%32;return h},wordsToBytes:function(u){for(var h=[],g=0;g<32*u.length;g+=8)h.push(u[g>>>5]>>>24-g%32&255);return h},bytesToHex:function(u){for(var h=[],g=0;g<u.length;g++)h.push((u[g]>>>4).toString(16)),h.push((15&u[g]).toString(16));return h.join("")},hexToBytes:function(u){for(var h=[],g=0;g<u.length;g+=2)h.push(parseInt(u.substr(g,2),16));return h},bytesToBase64:function(u){for(var h=[],g=0;g<u.length;g+=3)for(var I=u[g]<<16|u[g+1]<<8|u[g+2],N=0;N<4;N++)8*g+6*N<=8*u.length?h.push(r.charAt(I>>>6*(3-N)&63)):h.push("=");return h.join("")},base64ToBytes:function(u){u=u.replace(/[^A-Z0-9+\/]/gi,"");for(var h=[],g=0,I=0;g<u.length;I=++g%4)I!=0&&h.push((r.indexOf(u.charAt(g-1))&Math.pow(2,-2*I+8)-1)<<2*I|r.indexOf(u.charAt(g))>>>6-2*I);return h}},s.exports=n},345:()=>{},388:()=>{},410:()=>{},526:s=>{var r={utf8:{stringToBytes:function(n){return r.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(r.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var u=[],h=0;h<n.length;h++)u.push(255&n.charCodeAt(h));return u},bytesToString:function(n){for(var u=[],h=0;h<n.length;h++)u.push(String.fromCharCode(n[h]));return u.join("")}}};s.exports=r},542:(s,r,n)=>{(function(){var u=n(298),h=n(526).utf8,g=n(135),I=n(526).bin,N=function(b,l){b.constructor==String?b=l&&l.encoding==="binary"?I.stringToBytes(b):h.stringToBytes(b):g(b)?b=Array.prototype.slice.call(b,0):Array.isArray(b)||b.constructor===Uint8Array||(b=b.toString());for(var o=u.bytesToWords(b),A=8*b.length,f=1732584193,m=-271733879,v=-1732584194,p=271733878,B=0;B<o.length;B++)o[B]=16711935&(o[B]<<8|o[B]>>>24)|4278255360&(o[B]<<24|o[B]>>>8);o[A>>>5]|=128<<A%32,o[14+(A+64>>>9<<4)]=A;var w=N._ff,d=N._gg,T=N._hh,_=N._ii;for(B=0;B<o.length;B+=16){var O=f,U=m,D=v,$=p;f=w(f,m,v,p,o[B+0],7,-680876936),p=w(p,f,m,v,o[B+1],12,-389564586),v=w(v,p,f,m,o[B+2],17,606105819),m=w(m,v,p,f,o[B+3],22,-1044525330),f=w(f,m,v,p,o[B+4],7,-176418897),p=w(p,f,m,v,o[B+5],12,1200080426),v=w(v,p,f,m,o[B+6],17,-1473231341),m=w(m,v,p,f,o[B+7],22,-45705983),f=w(f,m,v,p,o[B+8],7,1770035416),p=w(p,f,m,v,o[B+9],12,-1958414417),v=w(v,p,f,m,o[B+10],17,-42063),m=w(m,v,p,f,o[B+11],22,-1990404162),f=w(f,m,v,p,o[B+12],7,1804603682),p=w(p,f,m,v,o[B+13],12,-40341101),v=w(v,p,f,m,o[B+14],17,-1502002290),f=d(f,m=w(m,v,p,f,o[B+15],22,1236535329),v,p,o[B+1],5,-165796510),p=d(p,f,m,v,o[B+6],9,-1069501632),v=d(v,p,f,m,o[B+11],14,643717713),m=d(m,v,p,f,o[B+0],20,-373897302),f=d(f,m,v,p,o[B+5],5,-701558691),p=d(p,f,m,v,o[B+10],9,38016083),v=d(v,p,f,m,o[B+15],14,-660478335),m=d(m,v,p,f,o[B+4],20,-405537848),f=d(f,m,v,p,o[B+9],5,568446438),p=d(p,f,m,v,o[B+14],9,-1019803690),v=d(v,p,f,m,o[B+3],14,-187363961),m=d(m,v,p,f,o[B+8],20,1163531501),f=d(f,m,v,p,o[B+13],5,-1444681467),p=d(p,f,m,v,o[B+2],9,-51403784),v=d(v,p,f,m,o[B+7],14,1735328473),f=T(f,m=d(m,v,p,f,o[B+12],20,-1926607734),v,p,o[B+5],4,-378558),p=T(p,f,m,v,o[B+8],11,-2022574463),v=T(v,p,f,m,o[B+11],16,1839030562),m=T(m,v,p,f,o[B+14],23,-35309556),f=T(f,m,v,p,o[B+1],4,-1530992060),p=T(p,f,m,v,o[B+4],11,1272893353),v=T(v,p,f,m,o[B+7],16,-155497632),m=T(m,v,p,f,o[B+10],23,-1094730640),f=T(f,m,v,p,o[B+13],4,681279174),p=T(p,f,m,v,o[B+0],11,-358537222),v=T(v,p,f,m,o[B+3],16,-722521979),m=T(m,v,p,f,o[B+6],23,76029189),f=T(f,m,v,p,o[B+9],4,-640364487),p=T(p,f,m,v,o[B+12],11,-421815835),v=T(v,p,f,m,o[B+15],16,530742520),f=_(f,m=T(m,v,p,f,o[B+2],23,-995338651),v,p,o[B+0],6,-198630844),p=_(p,f,m,v,o[B+7],10,1126891415),v=_(v,p,f,m,o[B+14],15,-1416354905),m=_(m,v,p,f,o[B+5],21,-57434055),f=_(f,m,v,p,o[B+12],6,1700485571),p=_(p,f,m,v,o[B+3],10,-1894986606),v=_(v,p,f,m,o[B+10],15,-1051523),m=_(m,v,p,f,o[B+1],21,-2054922799),f=_(f,m,v,p,o[B+8],6,1873313359),p=_(p,f,m,v,o[B+15],10,-30611744),v=_(v,p,f,m,o[B+6],15,-1560198380),m=_(m,v,p,f,o[B+13],21,1309151649),f=_(f,m,v,p,o[B+4],6,-145523070),p=_(p,f,m,v,o[B+11],10,-1120210379),v=_(v,p,f,m,o[B+2],15,718787259),m=_(m,v,p,f,o[B+9],21,-343485551),f=f+O>>>0,m=m+U>>>0,v=v+D>>>0,p=p+$>>>0}return u.endian([f,m,v,p])};N._ff=function(b,l,o,A,f,m,v){var p=b+(l&o|~l&A)+(f>>>0)+v;return(p<<m|p>>>32-m)+l},N._gg=function(b,l,o,A,f,m,v){var p=b+(l&A|o&~A)+(f>>>0)+v;return(p<<m|p>>>32-m)+l},N._hh=function(b,l,o,A,f,m,v){var p=b+(l^o^A)+(f>>>0)+v;return(p<<m|p>>>32-m)+l},N._ii=function(b,l,o,A,f,m,v){var p=b+(o^(l|~A))+(f>>>0)+v;return(p<<m|p>>>32-m)+l},N._blocksize=16,N._digestsize=16,s.exports=function(b,l){if(b==null)throw new Error("Illegal argument "+b);var o=u.wordsToBytes(N(b,l));return l&&l.asBytes?o:l&&l.asString?I.bytesToString(o):u.bytesToHex(o)}})()},647:(s,r)=>{var n=Object.prototype.hasOwnProperty;function u(g){try{return decodeURIComponent(g.replace(/\+/g," "))}catch{return null}}function h(g){try{return encodeURIComponent(g)}catch{return null}}r.stringify=function(g,I){I=I||"";var N,b,l=[];for(b in typeof I!="string"&&(I="?"),g)if(n.call(g,b)){if((N=g[b])||N!=null&&!isNaN(N)||(N=""),b=h(b),N=h(N),b===null||N===null)continue;l.push(b+"="+N)}return l.length?I+l.join("&"):""},r.parse=function(g){for(var I,N=/([^=?#&]+)=?([^&]*)/g,b={};I=N.exec(g);){var l=u(I[1]),o=u(I[2]);l===null||o===null||l in b||(b[l]=o)}return b}},670:s=>{s.exports=function(r,n){if(n=n.split(":")[0],!(r=+r))return!1;switch(n){case"http":case"ws":return r!==80;case"https":case"wss":return r!==443;case"ftp":return r!==21;case"gopher":return r!==70;case"file":return!1}return r!==0}},737:(s,r,n)=>{var u=n(670),h=n(647),g=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,I=/[\n\r\t]/g,N=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,b=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,o=/^[a-zA-Z]:/;function A(d){return(d||"").toString().replace(g,"")}var f=[["#","hash"],["?","query"],function(d,T){return p(T.protocol)?d.replace(/\\/g,"/"):d},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function v(d){var T,_=(typeof window<"u"?window:typeof Gt<"u"?Gt:typeof self<"u"?self:{}).location||{},O={},U=typeof(d=d||_);if(d.protocol==="blob:")O=new w(unescape(d.pathname),{});else if(U==="string")for(T in O=new w(d,{}),m)delete O[T];else if(U==="object"){for(T in d)T in m||(O[T]=d[T]);O.slashes===void 0&&(O.slashes=N.test(d.href))}return O}function p(d){return d==="file:"||d==="ftp:"||d==="http:"||d==="https:"||d==="ws:"||d==="wss:"}function B(d,T){d=(d=A(d)).replace(I,""),T=T||{};var _,O=l.exec(d),U=O[1]?O[1].toLowerCase():"",D=!!O[2],$=!!O[3],E=0;return D?$?(_=O[2]+O[3]+O[4],E=O[2].length+O[3].length):(_=O[2]+O[4],E=O[2].length):$?(_=O[3]+O[4],E=O[3].length):_=O[4],U==="file:"?E>=2&&(_=_.slice(2)):p(U)?_=O[4]:U?D&&(_=_.slice(2)):E>=2&&p(T.protocol)&&(_=O[4]),{protocol:U,slashes:D||p(U),slashesCount:E,rest:_}}function w(d,T,_){if(d=(d=A(d)).replace(I,""),!(this instanceof w))return new w(d,T,_);var O,U,D,$,E,M,k=f.slice(),S=typeof T,F=this,tt=0;for(S!=="object"&&S!=="string"&&(_=T,T=null),_&&typeof _!="function"&&(_=h.parse),O=!(U=B(d||"",T=v(T))).protocol&&!U.slashes,F.slashes=U.slashes||O&&T.slashes,F.protocol=U.protocol||T.protocol||"",d=U.rest,(U.protocol==="file:"&&(U.slashesCount!==2||o.test(d))||!U.slashes&&(U.protocol||U.slashesCount<2||!p(F.protocol)))&&(k[3]=[/(.*)/,"pathname"]);tt<k.length;tt++)typeof($=k[tt])!="function"?(D=$[0],M=$[1],D!=D?F[M]=d:typeof D=="string"?~(E=D==="@"?d.lastIndexOf(D):d.indexOf(D))&&(typeof $[2]=="number"?(F[M]=d.slice(0,E),d=d.slice(E+$[2])):(F[M]=d.slice(E),d=d.slice(0,E))):(E=D.exec(d))&&(F[M]=E[1],d=d.slice(0,E.index)),F[M]=F[M]||O&&$[3]&&T[M]||"",$[4]&&(F[M]=F[M].toLowerCase())):d=$(d,F);_&&(F.query=_(F.query)),O&&T.slashes&&F.pathname.charAt(0)!=="/"&&(F.pathname!==""||T.pathname!=="")&&(F.pathname=(function(z,ot){if(z==="")return ot;for(var j=(ot||"/").split("/").slice(0,-1).concat(z.split("/")),et=j.length,dt=j[et-1],mt=!1,J=0;et--;)j[et]==="."?j.splice(et,1):j[et]===".."?(j.splice(et,1),J++):J&&(et===0&&(mt=!0),j.splice(et,1),J--);return mt&&j.unshift(""),dt!=="."&&dt!==".."||j.push(""),j.join("/")})(F.pathname,T.pathname)),F.pathname.charAt(0)!=="/"&&p(F.protocol)&&(F.pathname="/"+F.pathname),u(F.port,F.protocol)||(F.host=F.hostname,F.port=""),F.username=F.password="",F.auth&&(~(E=F.auth.indexOf(":"))?(F.username=F.auth.slice(0,E),F.username=encodeURIComponent(decodeURIComponent(F.username)),F.password=F.auth.slice(E+1),F.password=encodeURIComponent(decodeURIComponent(F.password))):F.username=encodeURIComponent(decodeURIComponent(F.auth)),F.auth=F.password?F.username+":"+F.password:F.username),F.origin=F.protocol!=="file:"&&p(F.protocol)&&F.host?F.protocol+"//"+F.host:"null",F.href=F.toString()}w.prototype={set:function(d,T,_){var O=this;switch(d){case"query":typeof T=="string"&&T.length&&(T=(_||h.parse)(T)),O[d]=T;break;case"port":O[d]=T,u(T,O.protocol)?T&&(O.host=O.hostname+":"+T):(O.host=O.hostname,O[d]="");break;case"hostname":O[d]=T,O.port&&(T+=":"+O.port),O.host=T;break;case"host":O[d]=T,b.test(T)?(T=T.split(":"),O.port=T.pop(),O.hostname=T.join(":")):(O.hostname=T,O.port="");break;case"protocol":O.protocol=T.toLowerCase(),O.slashes=!_;break;case"pathname":case"hash":if(T){var U=d==="pathname"?"/":"#";O[d]=T.charAt(0)!==U?U+T:T}else O[d]=T;break;case"username":case"password":O[d]=encodeURIComponent(T);break;case"auth":var D=T.indexOf(":");~D?(O.username=T.slice(0,D),O.username=encodeURIComponent(decodeURIComponent(O.username)),O.password=T.slice(D+1),O.password=encodeURIComponent(decodeURIComponent(O.password))):O.username=encodeURIComponent(decodeURIComponent(T))}for(var $=0;$<f.length;$++){var E=f[$];E[4]&&(O[E[1]]=O[E[1]].toLowerCase())}return O.auth=O.password?O.username+":"+O.password:O.username,O.origin=O.protocol!=="file:"&&p(O.protocol)&&O.host?O.protocol+"//"+O.host:"null",O.href=O.toString(),O},toString:function(d){d&&typeof d=="function"||(d=h.stringify);var T,_=this,O=_.host,U=_.protocol;U&&U.charAt(U.length-1)!==":"&&(U+=":");var D=U+(_.protocol&&_.slashes||p(_.protocol)?"//":"");return _.username?(D+=_.username,_.password&&(D+=":"+_.password),D+="@"):_.password?(D+=":"+_.password,D+="@"):_.protocol!=="file:"&&p(_.protocol)&&!O&&_.pathname!=="/"&&(D+="@"),(O[O.length-1]===":"||b.test(_.hostname)&&!_.port)&&(O+=":"),D+=O+_.pathname,(T=typeof _.query=="object"?d(_.query):_.query)&&(D+=T.charAt(0)!=="?"?"?"+T:T),_.hash&&(D+=_.hash),D}},w.extractProtocol=B,w.location=v,w.trimLeft=A,w.qs=h,s.exports=w},800:()=>{},805:()=>{},829:s=>{function r(l){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r(l)}function n(l){var o=typeof Map=="function"?new Map:void 0;return n=function(A){if(A===null||(f=A,Function.toString.call(f).indexOf("[native code]")===-1))return A;var f;if(typeof A!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(A))return o.get(A);o.set(A,m)}function m(){return u(A,arguments,g(this).constructor)}return m.prototype=Object.create(A.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h(m,A)},n(l)}function u(l,o,A){return u=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch{return!1}})()?Reflect.construct:function(f,m,v){var p=[null];p.push.apply(p,m);var B=new(Function.bind.apply(f,p));return v&&h(B,v.prototype),B},u.apply(null,arguments)}function h(l,o){return h=Object.setPrototypeOf||function(A,f){return A.__proto__=f,A},h(l,o)}function g(l){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},g(l)}var I=(function(l){function o(A){var f;return(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,o),(f=(function(m,v){return!v||r(v)!=="object"&&typeof v!="function"?(function(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p})(m):v})(this,g(o).call(this,A))).name="ObjectPrototypeMutationError",f}return(function(A,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(f&&f.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),f&&h(A,f)})(o,l),o})(n(Error));function N(l,o){for(var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},f=o.split("."),m=f.length,v=function(w){var d=f[w];if(!l)return{v:void 0};if(d==="+"){if(Array.isArray(l))return{v:l.map((function(_,O){var U=f.slice(w+1);return U.length>0?N(_,U.join("."),A):A(l,O,f,w)}))};var T=f.slice(0,w).join(".");throw new Error("Object at wildcard (".concat(T,") is not an array"))}l=A(l,d,f,w)},p=0;p<m;p++){var B=v(p);if(r(B)==="object")return B.v}return l}function b(l,o){return l.length===o+1}s.exports={set:function(l,o,A){if(r(l)!="object"||l===null||o===void 0)return l;if(typeof o=="number")return l[o]=A,l[o];try{return N(l,o,(function(f,m,v,p){if(f===Reflect.getPrototypeOf({}))throw new I("Attempting to mutate Object.prototype");if(!f[m]){var B=Number.isInteger(Number(v[p+1])),w=v[p+1]==="+";f[m]=B||w?[]:{}}return b(v,p)&&(f[m]=A),f[m]}))}catch(f){if(f instanceof I)throw f;return l}},get:function(l,o){if(r(l)!="object"||l===null||o===void 0)return l;if(typeof o=="number")return l[o];try{return N(l,o,(function(A,f){return A[f]}))}catch{return l}},has:function(l,o){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r(l)!="object"||l===null||o===void 0)return!1;if(typeof o=="number")return o in l;try{var f=!1;return N(l,o,(function(m,v,p,B){if(!b(p,B))return m&&m[v];f=A.own?m.hasOwnProperty(v):v in m})),f}catch{return!1}},hasOwn:function(l,o,A){return this.has(l,o,A||{own:!0})},isIn:function(l,o,A){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(r(l)!="object"||l===null||o===void 0)return!1;try{var m=!1,v=!1;return N(l,o,(function(p,B,w,d){return m=m||p===A||!!p&&p[B]===A,v=b(w,d)&&r(p)==="object"&&B in p,p&&p[B]})),f.validPath?m&&v:m}catch{return!1}},ObjectPrototypeMutationError:I}}},Xe={};function W(s){var r=Xe[s];if(r!==void 0)return r.exports;var n=Xe[s]={id:s,loaded:!1,exports:{}};return tn[s].call(n.exports,n,n.exports,W),n.loaded=!0,n.exports}W.n=s=>{var r=s&&s.__esModule?()=>s.default:()=>s;return W.d(r,{a:r}),r},W.d=(s,r)=>{for(var n in r)W.o(r,n)&&!W.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:r[n]})},W.o=(s,r)=>Object.prototype.hasOwnProperty.call(s,r),W.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var en=W(737);W.n(en);var rn=W(47);W.n(rn);var nn=W(542);W.n(nn);var on=W(101);W.n(on);const Ve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis;Ve.fetch.bind(Ve),(function(s){return s.Auto="auto",s.Digest="digest",s.None="none",s.Password="password",s.Token="token",s})({}),(function(s){return s.DataTypeNoLength="data-type-no-length",s.InvalidAuthType="invalid-auth-type",s.InvalidOutputFormat="invalid-output-format",s.LinkUnsupportedAuthType="link-unsupported-auth",s.InvalidUpdateRange="invalid-update-range",s.NotSupported="not-supported",s})({}),W(345),W(800),W(805);var sn=W(285);const Yt=s=>{if(typeof s!="string")throw new TypeError("invalid pattern");if(s.length>65536)throw new TypeError("pattern is too long")},an={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Pt=s=>s.replace(/[[\]\\-]/g,"\\$&"),We=s=>s.join(""),un=(s,r)=>{const n=r;if(s.charAt(n)!=="[")throw new Error("not in a brace expression");const u=[],h=[];let g=n+1,I=!1,N=!1,b=!1,l=!1,o=n,A="";t:for(;g<s.length;){const p=s.charAt(g);if(p!=="!"&&p!=="^"||g!==n+1){if(p==="]"&&I&&!b){o=g+1;break}if(I=!0,p!=="\\"||b){if(p==="["&&!b){for(const[B,[w,d,T]]of Object.entries(an))if(s.startsWith(B,g)){if(A)return["$.",!1,s.length-n,!0];g+=B.length,T?h.push(w):u.push(w),N=N||d;continue t}}b=!1,A?(p>A?u.push(Pt(A)+"-"+Pt(p)):p===A&&u.push(Pt(p)),A="",g++):s.startsWith("-]",g+1)?(u.push(Pt(p+"-")),g+=2):s.startsWith("-",g+1)?(A=p,g+=2):(u.push(Pt(p)),g++)}else b=!0,g++}else l=!0,g++}if(o<g)return["",!1,0,!1];if(!u.length&&!h.length)return["$.",!1,s.length-n,!0];if(h.length===0&&u.length===1&&/^\\?.$/.test(u[0])&&!l)return[(f=u[0].length===2?u[0].slice(-1):u[0],f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,o-n,!1];var f;const m="["+(l?"^":"")+We(u)+"]",v="["+(l?"":"^")+We(h)+"]";return[u.length&&h.length?"("+m+"|"+v+")":u.length?m:v,N,o-n,!0]},Dt=function(s){let{windowsPathsNoEscape:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r?s.replace(/\[([^\/\\])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},cn=new Set(["!","?","+","*","@"]),ze=s=>cn.has(s),ue="(?!\\.)",hn=new Set(["[","."]),ln=new Set(["..","."]),fn=new Set("().*{}+?[]^$\\!"),Se="[^/]",Ye=Se+"*?",qe=Se+"+?";class ct{type;#r;#n;#o=!1;#t=[];#e;#s;#u;#a=!1;#i;#c;#l=!1;constructor(r,n){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=r,r&&(this.#n=!0),this.#e=n,this.#r=this.#e?this.#e.#r:this,this.#i=this.#r===this?u:this.#r.#i,this.#u=this.#r===this?[]:this.#r.#u,r!=="!"||this.#r.#a||this.#u.push(this),this.#s=this.#e?this.#e.#t.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(const r of this.#t)if(typeof r!="string"&&(r.type||r.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#t.map((r=>String(r))).join("|")+")":this.#c=this.#t.map((r=>String(r))).join("")}#p(){if(this!==this.#r)throw new Error("should only call on root");if(this.#a)return this;let r;for(this.toString(),this.#a=!0;r=this.#u.pop();){if(r.type!=="!")continue;let n=r,u=n.#e;for(;u;){for(let h=n.#s+1;!u.type&&h<u.#t.length;h++)for(const g of r.#t){if(typeof g=="string")throw new Error("string part in extglob AST??");g.copyIn(u.#t[h])}n=u,u=n.#e}}return this}push(){for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];for(const h of n)if(h!==""){if(typeof h!="string"&&!(h instanceof ct&&h.#e===this))throw new Error("invalid part: "+h);this.#t.push(h)}}toJSON(){const r=this.type===null?this.#t.slice().map((n=>typeof n=="string"?n:n.toJSON())):[this.type,...this.#t.map((n=>n.toJSON()))];return this.isStart()&&!this.type&&r.unshift([]),this.isEnd()&&(this===this.#r||this.#r.#a&&this.#e?.type==="!")&&r.push({}),r}isStart(){if(this.#r===this)return!0;if(!this.#e?.isStart())return!1;if(this.#s===0)return!0;const r=this.#e;for(let n=0;n<this.#s;n++){const u=r.#t[n];if(!(u instanceof ct&&u.type==="!"))return!1}return!0}isEnd(){if(this.#r===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();const r=this.#e?this.#e.#t.length:0;return this.#s===r-1}copyIn(r){typeof r=="string"?this.push(r):this.push(r.clone(this))}clone(r){const n=new ct(this.type,r);for(const u of this.#t)n.copyIn(u);return n}static#h(r,n,u,h){let g=!1,I=!1,N=-1,b=!1;if(n.type===null){let m=u,v="";for(;m<r.length;){const p=r.charAt(m++);if(g||p==="\\")g=!g,v+=p;else if(I)m===N+1?p!=="^"&&p!=="!"||(b=!0):p!=="]"||m===N+2&&b||(I=!1),v+=p;else if(p!=="[")if(h.noext||!ze(p)||r.charAt(m)!=="(")v+=p;else{n.push(v),v="";const B=new ct(p,n);m=ct.#h(r,B,m,h),n.push(B)}else I=!0,N=m,b=!1,v+=p}return n.push(v),m}let l=u+1,o=new ct(null,n);const A=[];let f="";for(;l<r.length;){const m=r.charAt(l++);if(g||m==="\\")g=!g,f+=m;else if(I)l===N+1?m!=="^"&&m!=="!"||(b=!0):m!=="]"||l===N+2&&b||(I=!1),f+=m;else if(m!=="[")if(ze(m)&&r.charAt(l)==="("){o.push(f),f="";const v=new ct(m,o);o.push(v),l=ct.#h(r,v,l,h)}else if(m!=="|"){if(m===")")return f===""&&n.#t.length===0&&(n.#l=!0),o.push(f),f="",n.push(...A,o),l;f+=m}else o.push(f),f="",A.push(o),o=new ct(null,n);else I=!0,N=l,b=!1,f+=m}return n.type=null,n.#n=void 0,n.#t=[r.substring(u-1)],l}static fromGlob(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=new ct(null,void 0,n);return ct.#h(r,u,0,n),u}toMMPattern(){if(this!==this.#r)return this.#r.toMMPattern();const r=this.toString(),[n,u,h,g]=this.toRegExpSource();if(!(h||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&r.toUpperCase()!==r.toLowerCase()))return u;const I=(this.#i.nocase?"i":"")+(g?"u":"");return Object.assign(new RegExp(`^${n}$`,I),{_src:n,_glob:r})}get options(){return this.#i}toRegExpSource(r){const n=r??!!this.#i.dot;if(this.#r===this&&this.#p(),!this.type){const b=this.isStart()&&this.isEnd(),l=this.#t.map((f=>{const[m,v,p,B]=typeof f=="string"?ct.#g(f,this.#n,b):f.toRegExpSource(r);return this.#n=this.#n||p,this.#o=this.#o||B,m})).join("");let o="";if(this.isStart()&&typeof this.#t[0]=="string"&&(this.#t.length!==1||!ln.has(this.#t[0]))){const f=hn,m=n&&f.has(l.charAt(0))||l.startsWith("\\.")&&f.has(l.charAt(2))||l.startsWith("\\.\\.")&&f.has(l.charAt(4)),v=!n&&!r&&f.has(l.charAt(0));o=m?"(?!(?:^|/)\\.\\.?(?:$|/))":v?ue:""}let A="";return this.isEnd()&&this.#r.#a&&this.#e?.type==="!"&&(A="(?:$|\\/)"),[o+l+A,Dt(l),this.#n=!!this.#n,this.#o]}const u=this.type==="*"||this.type==="+",h=this.type==="!"?"(?:(?!(?:":"(?:";let g=this.#f(n);if(this.isStart()&&this.isEnd()&&!g&&this.type!=="!"){const b=this.toString();return this.#t=[b],this.type=null,this.#n=void 0,[b,Dt(this.toString()),!1,!1]}let I=!u||r||n?"":this.#f(!0);I===g&&(I=""),I&&(g=`(?:${g})(?:${I})*?`);let N="";return N=this.type==="!"&&this.#l?(this.isStart()&&!n?ue:"")+qe:h+g+(this.type==="!"?"))"+(!this.isStart()||n||r?"":ue)+Ye+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&I?")":this.type==="*"&&I?")?":`)${this.type}`),[N,Dt(g),this.#n=!!this.#n,this.#o]}#f(r){return this.#t.map((n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[u,h,g,I]=n.toRegExpSource(r);return this.#o=this.#o||I,u})).filter((n=>!(this.isStart()&&this.isEnd()&&!n))).join("|")}static#g(r,n){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=!1,g="",I=!1;for(let N=0;N<r.length;N++){const b=r.charAt(N);if(h)h=!1,g+=(fn.has(b)?"\\":"")+b;else if(b!=="\\"){if(b==="["){const[l,o,A,f]=un(r,N);if(A){g+=l,I=I||o,N+=A-1,n=n||f;continue}}b!=="*"?b!=="?"?g+=b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(g+=Se,n=!0):(g+=u&&r==="*"?qe:Ye,n=!0)}else N===r.length-1?g+="\\\\":h=!0}return[g,Dt(r),!!n,I]}}const ht=function(s,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yt(r),!(!n.nocomment&&r.charAt(0)==="#")&&new qt(r,n).match(s)},pn=/^\*+([^+@!?\*\[\(]*)$/,gn=s=>r=>!r.startsWith(".")&&r.endsWith(s),dn=s=>r=>r.endsWith(s),mn=s=>(s=s.toLowerCase(),r=>!r.startsWith(".")&&r.toLowerCase().endsWith(s)),En=s=>(s=s.toLowerCase(),r=>r.toLowerCase().endsWith(s)),yn=/^\*+\.\*+$/,wn=s=>!s.startsWith(".")&&s.includes("."),bn=s=>s!=="."&&s!==".."&&s.includes("."),Tn=/^\.\*+$/,Nn=s=>s!=="."&&s!==".."&&s.startsWith("."),An=/^\*+$/,vn=s=>s.length!==0&&!s.startsWith("."),In=s=>s.length!==0&&s!=="."&&s!=="..",Sn=/^\?+([^+@!?\*\[\(]*)?$/,Ln=s=>{let[r,n=""]=s;const u=mr([r]);return n?(n=n.toLowerCase(),h=>u(h)&&h.toLowerCase().endsWith(n)):u},_n=s=>{let[r,n=""]=s;const u=Er([r]);return n?(n=n.toLowerCase(),h=>u(h)&&h.toLowerCase().endsWith(n)):u},Cn=s=>{let[r,n=""]=s;const u=Er([r]);return n?h=>u(h)&&h.endsWith(n):u},On=s=>{let[r,n=""]=s;const u=mr([r]);return n?h=>u(h)&&h.endsWith(n):u},mr=s=>{let[r]=s;const n=r.length;return u=>u.length===n&&!u.startsWith(".")},Er=s=>{let[r]=s;const n=r.length;return u=>u.length===n&&u!=="."&&u!==".."},yr=typeof Rt=="object"&&Rt?typeof ae=="object"&&ae&&ae.__MINIMATCH_TESTING_PLATFORM__||Rt.platform:"posix";ht.sep=yr==="win32"?"\\":"/";const gt=Symbol("globstar **");ht.GLOBSTAR=gt,ht.filter=function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>ht(n,s,r)};const pt=function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},s,r)};ht.defaults=s=>{if(!s||typeof s!="object"||!Object.keys(s).length)return ht;const r=ht;return Object.assign((function(n,u){return r(n,u,pt(s,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}),{Minimatch:class extends r.Minimatch{constructor(n){super(n,pt(s,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return r.defaults(pt(s,n)).Minimatch}},AST:class extends r.AST{constructor(n,u){super(n,u,pt(s,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.AST.fromGlob(n,pt(s,u))}},unescape:function(n){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.unescape(n,pt(s,u))},escape:function(n){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.escape(n,pt(s,u))},filter:function(n){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.filter(n,pt(s,u))},defaults:n=>r.defaults(pt(s,n)),makeRe:function(n){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.makeRe(n,pt(s,u))},braceExpand:function(n){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.braceExpand(n,pt(s,u))},match:function(n,u){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.match(n,u,pt(s,h))},sep:r.sep,GLOBSTAR:gt})};const wr=function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Yt(s),r.nobrace||!/\{(?:(?!\{).)*\}/.test(s)?[s]:sn(s)};ht.braceExpand=wr,ht.makeRe=function(s){return new qt(s,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},ht.match=function(s,r){const n=new qt(r,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return s=s.filter((u=>n.match(u))),n.options.nonull&&!s.length&&s.push(r),s};const He=/[?*]|[+@!]\(.*?\)|\[|\]/;class qt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yt(r),n=n||{},this.options=n,this.pattern=r,this.platform=n.platform||yr,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const r of this.set)for(const n of r)if(typeof n!="string")return!0;return!1}debug(){}make(){const r=this.pattern,n=this.options;if(!n.nocomment&&r.charAt(0)==="#")return void(this.comment=!0);if(!r)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const u=this.globSet.map((g=>this.slashSplit(g)));this.globParts=this.preprocess(u),this.debug(this.pattern,this.globParts);let h=this.globParts.map(((g,I,N)=>{if(this.isWindows&&this.windowsNoMagicRoot){const b=!(g[0]!==""||g[1]!==""||g[2]!=="?"&&He.test(g[2])||He.test(g[3])),l=/^[a-z]:/i.test(g[0]);if(b)return[...g.slice(0,4),...g.slice(4).map((o=>this.parse(o)))];if(l)return[g[0],...g.slice(1).map((o=>this.parse(o)))]}return g.map((b=>this.parse(b)))}));if(this.debug(this.pattern,h),this.set=h.filter((g=>g.indexOf(!1)===-1)),this.isWindows)for(let g=0;g<this.set.length;g++){const I=this.set[g];I[0]===""&&I[1]===""&&this.globParts[g][2]==="?"&&typeof I[3]=="string"&&/^[a-z]:$/i.test(I[3])&&(I[2]="?")}this.debug(this.pattern,this.set)}preprocess(r){if(this.options.noglobstar)for(let u=0;u<r.length;u++)for(let h=0;h<r[u].length;h++)r[u][h]==="**"&&(r[u][h]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(r=this.firstPhasePreProcess(r),r=this.secondPhasePreProcess(r)):r=n>=1?this.levelOneOptimize(r):this.adjascentGlobstarOptimize(r),r}adjascentGlobstarOptimize(r){return r.map((n=>{let u=-1;for(;(u=n.indexOf("**",u+1))!==-1;){let h=u;for(;n[h+1]==="**";)h++;h!==u&&n.splice(u,h-u)}return n}))}levelOneOptimize(r){return r.map((n=>(n=n.reduce(((u,h)=>{const g=u[u.length-1];return h==="**"&&g==="**"?u:h===".."&&g&&g!==".."&&g!=="."&&g!=="**"?(u.pop(),u):(u.push(h),u)}),[])).length===0?[""]:n))}levelTwoFileOptimize(r){Array.isArray(r)||(r=this.slashSplit(r));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let h=1;h<r.length-1;h++){const g=r[h];h===1&&g===""&&r[0]===""||g!=="."&&g!==""||(n=!0,r.splice(h,1),h--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let u=0;for(;(u=r.indexOf("..",u+1))!==-1;){const h=r[u-1];h&&h!=="."&&h!==".."&&h!=="**"&&(n=!0,r.splice(u-1,2),u-=2)}}while(n);return r.length===0?[""]:r}firstPhasePreProcess(r){let n=!1;do{n=!1;for(let u of r){let h=-1;for(;(h=u.indexOf("**",h+1))!==-1;){let I=h;for(;u[I+1]==="**";)I++;I>h&&u.splice(h+1,I-h);let N=u[h+1];const b=u[h+2],l=u[h+3];if(N!==".."||!b||b==="."||b===".."||!l||l==="."||l==="..")continue;n=!0,u.splice(h,1);const o=u.slice(0);o[h]="**",r.push(o),h--}if(!this.preserveMultipleSlashes){for(let I=1;I<u.length-1;I++){const N=u[I];I===1&&N===""&&u[0]===""||N!=="."&&N!==""||(n=!0,u.splice(I,1),I--)}u[0]!=="."||u.length!==2||u[1]!=="."&&u[1]!==""||(n=!0,u.pop())}let g=0;for(;(g=u.indexOf("..",g+1))!==-1;){const I=u[g-1];if(I&&I!=="."&&I!==".."&&I!=="**"){n=!0;const N=g===1&&u[g+1]==="**"?["."]:[];u.splice(g-1,2,...N),u.length===0&&u.push(""),g-=2}}}}while(n);return r}secondPhasePreProcess(r){for(let n=0;n<r.length-1;n++)for(let u=n+1;u<r.length;u++){const h=this.partsMatch(r[n],r[u],!this.preserveMultipleSlashes);if(h){r[n]=[],r[u]=h;break}}return r.filter((n=>n.length))}partsMatch(r,n){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=0,g=0,I=[],N="";for(;h<r.length&&g<n.length;)if(r[h]===n[g])I.push(N==="b"?n[g]:r[h]),h++,g++;else if(u&&r[h]==="**"&&n[g]===r[h+1])I.push(r[h]),h++;else if(u&&n[g]==="**"&&r[h]===n[g+1])I.push(n[g]),g++;else if(r[h]!=="*"||!n[g]||!this.options.dot&&n[g].startsWith(".")||n[g]==="**"){if(n[g]!=="*"||!r[h]||!this.options.dot&&r[h].startsWith(".")||r[h]==="**"||N==="a")return!1;N="b",I.push(n[g]),h++,g++}else{if(N==="b")return!1;N="a",I.push(r[h]),h++,g++}return r.length===n.length&&I}parseNegate(){if(this.nonegate)return;const r=this.pattern;let n=!1,u=0;for(let h=0;h<r.length&&r.charAt(h)==="!";h++)n=!n,u++;u&&(this.pattern=r.slice(u)),this.negate=n}matchOne(r,n){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const h=this.options;if(this.isWindows){const p=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),B=!p&&r[0]===""&&r[1]===""&&r[2]==="?"&&/^[a-z]:$/i.test(r[3]),w=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),d=B?3:p?0:void 0,T=!w&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:w?0:void 0;if(typeof d=="number"&&typeof T=="number"){const[_,O]=[r[d],n[T]];_.toLowerCase()===O.toLowerCase()&&(n[T]=_,T>d?n=n.slice(T):d>T&&(r=r.slice(d)))}}const{optimizationLevel:g=1}=this.options;g>=2&&(r=this.levelTwoFileOptimize(r)),this.debug("matchOne",this,{file:r,pattern:n}),this.debug("matchOne",r.length,n.length);for(var I=0,N=0,b=r.length,l=n.length;I<b&&N<l;I++,N++){this.debug("matchOne loop");var o=n[N],A=r[I];if(this.debug(n,o,A),o===!1)return!1;if(o===gt){this.debug("GLOBSTAR",[n,o,A]);var f=I,m=N+1;if(m===l){for(this.debug("** at the end");I<b;I++)if(r[I]==="."||r[I]===".."||!h.dot&&r[I].charAt(0)===".")return!1;return!0}for(;f<b;){var v=r[f];if(this.debug(`
globstar while`,r,f,n,m,v),this.matchOne(r.slice(f),n.slice(m),u))return this.debug("globstar found match!",f,b,v),!0;if(v==="."||v===".."||!h.dot&&v.charAt(0)==="."){this.debug("dot detected!",r,f,n,m);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!u||(this.debug(`
>>> no match, partial?`,r,f,n,m),f!==b))}let p;if(typeof o=="string"?(p=A===o,this.debug("string match",o,A,p)):(p=o.test(A),this.debug("pattern match",o,A,p)),!p)return!1}if(I===b&&N===l)return!0;if(I===b)return u;if(N===l)return I===b-1&&r[I]==="";throw new Error("wtf?")}braceExpand(){return wr(this.pattern,this.options)}parse(r){Yt(r);const n=this.options;if(r==="**")return gt;if(r==="")return"";let u,h=null;(u=r.match(An))?h=n.dot?In:vn:(u=r.match(pn))?h=(n.nocase?n.dot?En:mn:n.dot?dn:gn)(u[1]):(u=r.match(Sn))?h=(n.nocase?n.dot?_n:Ln:n.dot?Cn:On)(u):(u=r.match(yn))?h=n.dot?bn:wn:(u=r.match(Tn))&&(h=Nn);const g=ct.fromGlob(r,this.options).toMMPattern();return h&&typeof g=="object"&&Reflect.defineProperty(g,"test",{value:h}),g}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const r=this.set;if(!r.length)return this.regexp=!1,this.regexp;const n=this.options,u=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",h=new Set(n.nocase?["i"]:[]);let g=r.map((b=>{const l=b.map((o=>{if(o instanceof RegExp)for(const A of o.flags.split(""))h.add(A);return typeof o=="string"?o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):o===gt?gt:o._src}));return l.forEach(((o,A)=>{const f=l[A+1],m=l[A-1];o===gt&&m!==gt&&(m===void 0?f!==void 0&&f!==gt?l[A+1]="(?:\\/|"+u+"\\/)?"+f:l[A]=u:f===void 0?l[A-1]=m+"(?:\\/|"+u+")?":f!==gt&&(l[A-1]=m+"(?:\\/|\\/"+u+"\\/)"+f,l[A+1]=gt))})),l.filter((o=>o!==gt)).join("/")})).join("|");const[I,N]=r.length>1?["(?:",")"]:["",""];g="^"+I+g+N+"$",this.negate&&(g="^(?!"+g+").+$");try{this.regexp=new RegExp(g,[...h].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(r){return this.preserveMultipleSlashes?r.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(r)?["",...r.split(/\/+/)]:r.split(/\/+/)}match(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",r,this.pattern),this.comment)return!1;if(this.empty)return r==="";if(r==="/"&&n)return!0;const u=this.options;this.isWindows&&(r=r.split("\\").join("/"));const h=this.slashSplit(r);this.debug(this.pattern,"split",h);const g=this.set;this.debug(this.pattern,"set",g);let I=h[h.length-1];if(!I)for(let N=h.length-2;!I&&N>=0;N--)I=h[N];for(let N=0;N<g.length;N++){const b=g[N];let l=h;if(u.matchBase&&b.length===1&&(l=[I]),this.matchOne(l,b,n))return!!u.flipNegate||!this.negate}return!u.flipNegate&&this.negate}static defaults(r){return ht.defaults(r).Minimatch}}ht.AST=ct,ht.Minimatch=qt,ht.escape=function(s){let{windowsPathsNoEscape:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r?s.replace(/[?*()[\]]/g,"[$&]"):s.replace(/[?*()[\]\\]/g,"\\$&")},ht.unescape=Dt;var Bn=W(829);W.n(Bn);var Pn=(function(s){return s.Array="array",s.Object="object",s.Original="original",s})(Pn||{});typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));var xn=W(388);W.n(xn),W(172),Pr().setApp("@nextcloud/files").detectUser().build();var br=(s=>(s.Folder="folder",s.File="file",s))(br||{});function Dn(){return gr()?`/files/${Hr()}`:`/files/${xr()?.uid}`}Dn();function Rn(){const s=Fr("dav");return gr()?s.replace("remote.php","public.php"):s}Rn();var ce={},he={exports:{}},Qe={},Ze;function Fn(){return Ze||(Ze=1,(function(s){Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var r={},n={};n.byteLength=o,n.toByteArray=f,n.fromByteArray=p;for(var u=[],h=[],g=typeof Uint8Array<"u"?Uint8Array:Array,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=0,b=I.length;N<b;++N)u[N]=I[N],h[I.charCodeAt(N)]=N;h[45]=62,h[95]=63;function l(d){var T=d.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=d.indexOf("=");_===-1&&(_=T);var O=_===T?0:4-_%4;return[_,O]}function o(d){var T=l(d),_=T[0],O=T[1];return(_+O)*3/4-O}function A(d,T,_){return(T+_)*3/4-_}function f(d){var T,_=l(d),O=_[0],U=_[1],D=new g(A(d,O,U)),$=0,E=U>0?O-4:O,M;for(M=0;M<E;M+=4)T=h[d.charCodeAt(M)]<<18|h[d.charCodeAt(M+1)]<<12|h[d.charCodeAt(M+2)]<<6|h[d.charCodeAt(M+3)],D[$++]=T>>16&255,D[$++]=T>>8&255,D[$++]=T&255;return U===2&&(T=h[d.charCodeAt(M)]<<2|h[d.charCodeAt(M+1)]>>4,D[$++]=T&255),U===1&&(T=h[d.charCodeAt(M)]<<10|h[d.charCodeAt(M+1)]<<4|h[d.charCodeAt(M+2)]>>2,D[$++]=T>>8&255,D[$++]=T&255),D}function m(d){return u[d>>18&63]+u[d>>12&63]+u[d>>6&63]+u[d&63]}function v(d,T,_){for(var O,U=[],D=T;D<_;D+=3)O=(d[D]<<16&16711680)+(d[D+1]<<8&65280)+(d[D+2]&255),U.push(m(O));return U.join("")}function p(d){for(var T,_=d.length,O=_%3,U=[],D=16383,$=0,E=_-O;$<E;$+=D)U.push(v(d,$,$+D>E?E:$+D));return O===1?(T=d[_-1],U.push(u[T>>2]+u[T<<4&63]+"==")):O===2&&(T=(d[_-2]<<8)+d[_-1],U.push(u[T>>10]+u[T>>4&63]+u[T<<2&63]+"=")),U.join("")}var B={};B.read=function(d,T,_,O,U){var D,$,E=U*8-O-1,M=(1<<E)-1,k=M>>1,S=-7,F=_?U-1:0,tt=_?-1:1,z=d[T+F];for(F+=tt,D=z&(1<<-S)-1,z>>=-S,S+=E;S>0;D=D*256+d[T+F],F+=tt,S-=8);for($=D&(1<<-S)-1,D>>=-S,S+=O;S>0;$=$*256+d[T+F],F+=tt,S-=8);if(D===0)D=1-k;else{if(D===M)return $?NaN:(z?-1:1)*(1/0);$=$+Math.pow(2,O),D=D-k}return(z?-1:1)*$*Math.pow(2,D-O)},B.write=function(d,T,_,O,U,D){var $,E,M,k=D*8-U-1,S=(1<<k)-1,F=S>>1,tt=U===23?Math.pow(2,-24)-Math.pow(2,-77):0,z=O?0:D-1,ot=O?1:-1,j=T<0||T===0&&1/T<0?1:0;for(T=Math.abs(T),isNaN(T)||T===1/0?(E=isNaN(T)?1:0,$=S):($=Math.floor(Math.log(T)/Math.LN2),T*(M=Math.pow(2,-$))<1&&($--,M*=2),$+F>=1?T+=tt/M:T+=tt*Math.pow(2,1-F),T*M>=2&&($++,M/=2),$+F>=S?(E=0,$=S):$+F>=1?(E=(T*M-1)*Math.pow(2,U),$=$+F):(E=T*Math.pow(2,F-1)*Math.pow(2,U),$=0));U>=8;d[_+z]=E&255,z+=ot,E/=256,U-=8);for($=$<<U|E,k+=U;k>0;d[_+z]=$&255,z+=ot,$/=256,k-=8);d[_+z-ot]|=j*128},(function(d){const T=n,_=B,O=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=S,d.SlowBuffer=St,d.INSPECT_MAX_BYTES=50;const U=2147483647;d.kMaxLength=U;const{Uint8Array:D,ArrayBuffer:$,SharedArrayBuffer:E}=globalThis;S.TYPED_ARRAY_SUPPORT=M(),!S.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{const t=new D(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,D.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}});function k(t){if(t>U)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new D(t);return Object.setPrototypeOf(e,S.prototype),e}function S(t,e,i){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ot(t)}return F(t,e,i)}S.poolSize=8192;function F(t,e,i){if(typeof t=="string")return j(t,e);if($.isView(t))return dt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(wt(t,$)||t&&wt(t.buffer,$)||typeof E<"u"&&(wt(t,E)||t&&wt(t.buffer,E)))return mt(t,e,i);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=t.valueOf&&t.valueOf();if(y!=null&&y!==t)return S.from(y,e,i);const C=J(t);if(C)return C;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return S.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}S.from=function(t,e,i){return F(t,e,i)},Object.setPrototypeOf(S.prototype,D.prototype),Object.setPrototypeOf(S,D);function tt(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function z(t,e,i){return tt(t),t<=0?k(t):e!==void 0?typeof i=="string"?k(t).fill(e,i):k(t).fill(e):k(t)}S.alloc=function(t,e,i){return z(t,e,i)};function ot(t){return tt(t),k(t<0?0:st(t)|0)}S.allocUnsafe=function(t){return ot(t)},S.allocUnsafeSlow=function(t){return ot(t)};function j(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!S.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const i=Tt(t,e)|0;let y=k(i);const C=y.write(t,e);return C!==i&&(y=y.slice(0,C)),y}function et(t){const e=t.length<0?0:st(t.length)|0,i=k(e);for(let y=0;y<e;y+=1)i[y]=t[y]&255;return i}function dt(t){if(wt(t,D)){const e=new D(t);return mt(e.buffer,e.byteOffset,e.byteLength)}return et(t)}function mt(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let y;return e===void 0&&i===void 0?y=new D(t):i===void 0?y=new D(t,e):y=new D(t,e,i),Object.setPrototypeOf(y,S.prototype),y}function J(t){if(S.isBuffer(t)){const e=st(t.length)|0,i=k(e);return i.length===0||t.copy(i,0,0,e),i}if(t.length!==void 0)return typeof t.length!="number"||te(t.length)?k(0):et(t);if(t.type==="Buffer"&&Array.isArray(t.data))return et(t.data)}function st(t){if(t>=U)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+U.toString(16)+" bytes");return t|0}function St(t){return+t!=t&&(t=0),S.alloc(+t)}S.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==S.prototype},S.compare=function(t,e){if(wt(t,D)&&(t=S.from(t,t.offset,t.byteLength)),wt(e,D)&&(e=S.from(e,e.offset,e.byteLength)),!S.isBuffer(t)||!S.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let i=t.length,y=e.length;for(let C=0,P=Math.min(i,y);C<P;++C)if(t[C]!==e[C]){i=t[C],y=e[C];break}return i<y?-1:y<i?1:0},S.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return S.alloc(0);let i;if(e===void 0)for(e=0,i=0;i<t.length;++i)e+=t[i].length;const y=S.allocUnsafe(e);let C=0;for(i=0;i<t.length;++i){let P=t[i];if(wt(P,D))C+P.length>y.length?(S.isBuffer(P)||(P=S.from(P)),P.copy(y,C)):D.prototype.set.call(y,P,C);else if(S.isBuffer(P))P.copy(y,C);else throw new TypeError('"list" argument must be an Array of Buffers');C+=P.length}return y};function Tt(t,e){if(S.isBuffer(t))return t.length;if($.isView(t)||wt(t,$))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const i=t.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&i===0)return 0;let C=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Kt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return De(t).length;default:if(C)return y?-1:Kt(t).length;e=(""+e).toLowerCase(),C=!0}}S.byteLength=Tt;function ft(t,e,i){let y=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,e>>>=0,i<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return $t(this,e,i);case"utf8":case"utf-8":return rt(this,e,i);case"ascii":return yt(this,e,i);case"latin1":case"binary":return Zt(this,e,i);case"base64":return at(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,e,i);default:if(y)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),y=!0}}S.prototype._isBuffer=!0;function Et(t,e,i){const y=t[e];t[e]=t[i],t[i]=y}S.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)Et(this,e,e+1);return this},S.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)Et(this,e,e+3),Et(this,e+1,e+2);return this},S.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)Et(this,e,e+7),Et(this,e+1,e+6),Et(this,e+2,e+5),Et(this,e+3,e+4);return this},S.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?rt(this,0,t):ft.apply(this,arguments)},S.prototype.toLocaleString=S.prototype.toString,S.prototype.equals=function(t){if(!S.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:S.compare(this,t)===0},S.prototype.inspect=function(){let t="";const e=d.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},O&&(S.prototype[O]=S.prototype.inspect),S.prototype.compare=function(t,e,i,y,C){if(wt(t,D)&&(t=S.from(t,t.offset,t.byteLength)),!S.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),i===void 0&&(i=t?t.length:0),y===void 0&&(y=0),C===void 0&&(C=this.length),e<0||i>t.length||y<0||C>this.length)throw new RangeError("out of range index");if(y>=C&&e>=i)return 0;if(y>=C)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,y>>>=0,C>>>=0,this===t)return 0;let P=C-y,R=i-e;const V=Math.min(P,R),nt=this.slice(y,C),Y=t.slice(e,i);for(let X=0;X<V;++X)if(nt[X]!==Y[X]){P=nt[X],R=Y[X];break}return P<R?-1:R<P?1:0};function c(t,e,i,y,C){if(t.length===0)return-1;if(typeof i=="string"?(y=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,te(i)&&(i=C?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(C)return-1;i=t.length-1}else if(i<0)if(C)i=0;else return-1;if(typeof e=="string"&&(e=S.from(e,y)),S.isBuffer(e))return e.length===0?-1:a(t,e,i,y,C);if(typeof e=="number")return e=e&255,typeof D.prototype.indexOf=="function"?C?D.prototype.indexOf.call(t,e,i):D.prototype.lastIndexOf.call(t,e,i):a(t,[e],i,y,C);throw new TypeError("val must be string, number or Buffer")}function a(t,e,i,y,C){let P=1,R=t.length,V=e.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(t.length<2||e.length<2)return-1;P=2,R/=2,V/=2,i/=2}function nt(X,Z){return P===1?X[Z]:X.readUInt16BE(Z*P)}let Y;if(C){let X=-1;for(Y=i;Y<R;Y++)if(nt(t,Y)===nt(e,X===-1?0:Y-X)){if(X===-1&&(X=Y),Y-X+1===V)return X*P}else X!==-1&&(Y-=Y-X),X=-1}else for(i+V>R&&(i=R-V),Y=i;Y>=0;Y--){let X=!0;for(let Z=0;Z<V;Z++)if(nt(t,Y+Z)!==nt(e,Z)){X=!1;break}if(X)return Y}return-1}S.prototype.includes=function(t,e,i){return this.indexOf(t,e,i)!==-1},S.prototype.indexOf=function(t,e,i){return c(this,t,e,i,!0)},S.prototype.lastIndexOf=function(t,e,i){return c(this,t,e,i,!1)};function x(t,e,i,y){i=Number(i)||0;const C=t.length-i;y?(y=Number(y),y>C&&(y=C)):y=C;const P=e.length;y>P/2&&(y=P/2);let R;for(R=0;R<y;++R){const V=parseInt(e.substr(R*2,2),16);if(te(V))return R;t[i+R]=V}return R}function L(t,e,i,y){return Mt(Kt(e,t.length-i),t,i,y)}function G(t,e,i,y){return Mt(_r(e),t,i,y)}function q(t,e,i,y){return Mt(De(e),t,i,y)}function H(t,e,i,y){return Mt(Cr(e,t.length-i),t,i,y)}S.prototype.write=function(t,e,i,y){if(e===void 0)y="utf8",i=this.length,e=0;else if(i===void 0&&typeof e=="string")y=e,i=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(i)?(i=i>>>0,y===void 0&&(y="utf8")):(y=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const C=this.length-e;if((i===void 0||i>C)&&(i=C),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let P=!1;for(;;)switch(y){case"hex":return x(this,t,e,i);case"utf8":case"utf-8":return L(this,t,e,i);case"ascii":case"latin1":case"binary":return G(this,t,e,i);case"base64":return q(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,t,e,i);default:if(P)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),P=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function at(t,e,i){return e===0&&i===t.length?T.fromByteArray(t):T.fromByteArray(t.slice(e,i))}function rt(t,e,i){i=Math.min(t.length,i);const y=[];let C=e;for(;C<i;){const P=t[C];let R=null,V=P>239?4:P>223?3:P>191?2:1;if(C+V<=i){let nt,Y,X,Z;switch(V){case 1:P<128&&(R=P);break;case 2:nt=t[C+1],(nt&192)===128&&(Z=(P&31)<<6|nt&63,Z>127&&(R=Z));break;case 3:nt=t[C+1],Y=t[C+2],(nt&192)===128&&(Y&192)===128&&(Z=(P&15)<<12|(nt&63)<<6|Y&63,Z>2047&&(Z<55296||Z>57343)&&(R=Z));break;case 4:nt=t[C+1],Y=t[C+2],X=t[C+3],(nt&192)===128&&(Y&192)===128&&(X&192)===128&&(Z=(P&15)<<18|(nt&63)<<12|(Y&63)<<6|X&63,Z>65535&&Z<1114112&&(R=Z))}}R===null?(R=65533,V=1):R>65535&&(R-=65536,y.push(R>>>10&1023|55296),R=56320|R&1023),y.push(R),C+=V}return K(y)}const bt=4096;function K(t){const e=t.length;if(e<=bt)return String.fromCharCode.apply(String,t);let i="",y=0;for(;y<e;)i+=String.fromCharCode.apply(String,t.slice(y,y+=bt));return i}function yt(t,e,i){let y="";i=Math.min(t.length,i);for(let C=e;C<i;++C)y+=String.fromCharCode(t[C]&127);return y}function Zt(t,e,i){let y="";i=Math.min(t.length,i);for(let C=e;C<i;++C)y+=String.fromCharCode(t[C]);return y}function $t(t,e,i){const y=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>y)&&(i=y);let C="";for(let P=e;P<i;++P)C+=Or[t[P]];return C}function Ct(t,e,i){const y=t.slice(e,i);let C="";for(let P=0;P<y.length-1;P+=2)C+=String.fromCharCode(y[P]+y[P+1]*256);return C}S.prototype.slice=function(t,e){const i=this.length;t=~~t,e=e===void 0?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t);const y=this.subarray(t,e);return Object.setPrototypeOf(y,S.prototype),y};function Q(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}S.prototype.readUintLE=S.prototype.readUIntLE=function(t,e,i){t=t>>>0,e=e>>>0,i||Q(t,e,this.length);let y=this[t],C=1,P=0;for(;++P<e&&(C*=256);)y+=this[t+P]*C;return y},S.prototype.readUintBE=S.prototype.readUIntBE=function(t,e,i){t=t>>>0,e=e>>>0,i||Q(t,e,this.length);let y=this[t+--e],C=1;for(;e>0&&(C*=256);)y+=this[t+--e]*C;return y},S.prototype.readUint8=S.prototype.readUInt8=function(t,e){return t=t>>>0,e||Q(t,1,this.length),this[t]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||Q(t,2,this.length),this[t]|this[t+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||Q(t,2,this.length),this[t]<<8|this[t+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||Q(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||Q(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},S.prototype.readBigUInt64LE=Nt(function(t){t=t>>>0,_t(t,"offset");const e=this[t],i=this[t+7];(e===void 0||i===void 0)&&Ot(t,this.length-8);const y=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,C=this[++t]+this[++t]*2**8+this[++t]*2**16+i*2**24;return BigInt(y)+(BigInt(C)<<BigInt(32))}),S.prototype.readBigUInt64BE=Nt(function(t){t=t>>>0,_t(t,"offset");const e=this[t],i=this[t+7];(e===void 0||i===void 0)&&Ot(t,this.length-8);const y=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],C=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+i;return(BigInt(y)<<BigInt(32))+BigInt(C)}),S.prototype.readIntLE=function(t,e,i){t=t>>>0,e=e>>>0,i||Q(t,e,this.length);let y=this[t],C=1,P=0;for(;++P<e&&(C*=256);)y+=this[t+P]*C;return C*=128,y>=C&&(y-=Math.pow(2,8*e)),y},S.prototype.readIntBE=function(t,e,i){t=t>>>0,e=e>>>0,i||Q(t,e,this.length);let y=e,C=1,P=this[t+--y];for(;y>0&&(C*=256);)P+=this[t+--y]*C;return C*=128,P>=C&&(P-=Math.pow(2,8*e)),P},S.prototype.readInt8=function(t,e){return t=t>>>0,e||Q(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},S.prototype.readInt16LE=function(t,e){t=t>>>0,e||Q(t,2,this.length);const i=this[t]|this[t+1]<<8;return i&32768?i|4294901760:i},S.prototype.readInt16BE=function(t,e){t=t>>>0,e||Q(t,2,this.length);const i=this[t+1]|this[t]<<8;return i&32768?i|4294901760:i},S.prototype.readInt32LE=function(t,e){return t=t>>>0,e||Q(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},S.prototype.readInt32BE=function(t,e){return t=t>>>0,e||Q(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},S.prototype.readBigInt64LE=Nt(function(t){t=t>>>0,_t(t,"offset");const e=this[t],i=this[t+7];(e===void 0||i===void 0)&&Ot(t,this.length-8);const y=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(i<<24);return(BigInt(y)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),S.prototype.readBigInt64BE=Nt(function(t){t=t>>>0,_t(t,"offset");const e=this[t],i=this[t+7];(e===void 0||i===void 0)&&Ot(t,this.length-8);const y=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(y)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+i)}),S.prototype.readFloatLE=function(t,e){return t=t>>>0,e||Q(t,4,this.length),_.read(this,t,!0,23,4)},S.prototype.readFloatBE=function(t,e){return t=t>>>0,e||Q(t,4,this.length),_.read(this,t,!1,23,4)},S.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||Q(t,8,this.length),_.read(this,t,!0,52,8)},S.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||Q(t,8,this.length),_.read(this,t,!1,52,8)};function lt(t,e,i,y,C,P){if(!S.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>C||e<P)throw new RangeError('"value" argument is out of bounds');if(i+y>t.length)throw new RangeError("Index out of range")}S.prototype.writeUintLE=S.prototype.writeUIntLE=function(t,e,i,y){if(t=+t,e=e>>>0,i=i>>>0,!y){const R=Math.pow(2,8*i)-1;lt(this,t,e,i,R,0)}let C=1,P=0;for(this[e]=t&255;++P<i&&(C*=256);)this[e+P]=t/C&255;return e+i},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(t,e,i,y){if(t=+t,e=e>>>0,i=i>>>0,!y){const R=Math.pow(2,8*i)-1;lt(this,t,e,i,R,0)}let C=i-1,P=1;for(this[e+C]=t&255;--C>=0&&(P*=256);)this[e+C]=t/P&255;return e+i},S.prototype.writeUint8=S.prototype.writeUInt8=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,1,255,0),this[e]=t&255,e+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function Le(t,e,i,y,C){xe(e,y,C,t,i,7);let P=Number(e&BigInt(4294967295));t[i++]=P,P=P>>8,t[i++]=P,P=P>>8,t[i++]=P,P=P>>8,t[i++]=P;let R=Number(e>>BigInt(32)&BigInt(4294967295));return t[i++]=R,R=R>>8,t[i++]=R,R=R>>8,t[i++]=R,R=R>>8,t[i++]=R,i}function _e(t,e,i,y,C){xe(e,y,C,t,i,7);let P=Number(e&BigInt(4294967295));t[i+7]=P,P=P>>8,t[i+6]=P,P=P>>8,t[i+5]=P,P=P>>8,t[i+4]=P;let R=Number(e>>BigInt(32)&BigInt(4294967295));return t[i+3]=R,R=R>>8,t[i+2]=R,R=R>>8,t[i+1]=R,R=R>>8,t[i]=R,i+8}S.prototype.writeBigUInt64LE=Nt(function(t,e=0){return Le(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Nt(function(t,e=0){return _e(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(t,e,i,y){if(t=+t,e=e>>>0,!y){const V=Math.pow(2,8*i-1);lt(this,t,e,i,V-1,-V)}let C=0,P=1,R=0;for(this[e]=t&255;++C<i&&(P*=256);)t<0&&R===0&&this[e+C-1]!==0&&(R=1),this[e+C]=(t/P>>0)-R&255;return e+i},S.prototype.writeIntBE=function(t,e,i,y){if(t=+t,e=e>>>0,!y){const V=Math.pow(2,8*i-1);lt(this,t,e,i,V-1,-V)}let C=i-1,P=1,R=0;for(this[e+C]=t&255;--C>=0&&(P*=256);)t<0&&R===0&&this[e+C+1]!==0&&(R=1),this[e+C]=(t/P>>0)-R&255;return e+i},S.prototype.writeInt8=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},S.prototype.writeInt16LE=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},S.prototype.writeInt16BE=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},S.prototype.writeInt32LE=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},S.prototype.writeInt32BE=function(t,e,i){return t=+t,e=e>>>0,i||lt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},S.prototype.writeBigInt64LE=Nt(function(t,e=0){return Le(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Nt(function(t,e=0){return _e(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(t,e,i,y,C,P){if(i+y>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Oe(t,e,i,y,C){return e=+e,i=i>>>0,C||Ce(t,e,i,4),_.write(t,e,i,y,23,4),i+4}S.prototype.writeFloatLE=function(t,e,i){return Oe(this,t,e,!0,i)},S.prototype.writeFloatBE=function(t,e,i){return Oe(this,t,e,!1,i)};function Be(t,e,i,y,C){return e=+e,i=i>>>0,C||Ce(t,e,i,8),_.write(t,e,i,y,52,8),i+8}S.prototype.writeDoubleLE=function(t,e,i){return Be(this,t,e,!0,i)},S.prototype.writeDoubleBE=function(t,e,i){return Be(this,t,e,!1,i)},S.prototype.copy=function(t,e,i,y){if(!S.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),!y&&y!==0&&(y=this.length),e>=t.length&&(e=t.length),e||(e=0),y>0&&y<i&&(y=i),y===i||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),t.length-e<y-i&&(y=t.length-e+i);const C=y-i;return this===t&&typeof D.prototype.copyWithin=="function"?this.copyWithin(e,i,y):D.prototype.set.call(t,this.subarray(i,y),e),C},S.prototype.fill=function(t,e,i,y){if(typeof t=="string"){if(typeof e=="string"?(y=e,e=0,i=this.length):typeof i=="string"&&(y=i,i=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!S.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(t.length===1){const P=t.charCodeAt(0);(y==="utf8"&&P<128||y==="latin1")&&(t=P)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e=e>>>0,i=i===void 0?this.length:i>>>0,t||(t=0);let C;if(typeof t=="number")for(C=e;C<i;++C)this[C]=t;else{const P=S.isBuffer(t)?t:S.from(t,y),R=P.length;if(R===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(C=0;C<i-e;++C)this[C+e]=P[C%R]}return this};const Lt={};function Jt(t,e,i){Lt[t]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Jt("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Jt("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Jt("ERR_OUT_OF_RANGE",function(t,e,i){let y=`The value of "${t}" is out of range.`,C=i;return Number.isInteger(i)&&Math.abs(i)>2**32?C=Pe(String(i)):typeof i=="bigint"&&(C=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(C=Pe(C)),C+="n"),y+=` It must be ${e}. Received ${C}`,y},RangeError);function Pe(t){let e="",i=t.length;const y=t[0]==="-"?1:0;for(;i>=y+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}function Ir(t,e,i){_t(e,"offset"),(t[e]===void 0||t[e+i]===void 0)&&Ot(e,t.length-(i+1))}function xe(t,e,i,y,C,P){if(t>i||t<e){const R=typeof e=="bigint"?"n":"";let V;throw e===0||e===BigInt(0)?V=`>= 0${R} and < 2${R} ** ${(P+1)*8}${R}`:V=`>= -(2${R} ** ${(P+1)*8-1}${R}) and < 2 ** ${(P+1)*8-1}${R}`,new Lt.ERR_OUT_OF_RANGE("value",V,t)}Ir(y,C,P)}function _t(t,e){if(typeof t!="number")throw new Lt.ERR_INVALID_ARG_TYPE(e,"number",t)}function Ot(t,e,i){throw Math.floor(t)!==t?(_t(t,i),new Lt.ERR_OUT_OF_RANGE("offset","an integer",t)):e<0?new Lt.ERR_BUFFER_OUT_OF_BOUNDS:new Lt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,t)}const Sr=/[^+/0-9A-Za-z-_]/g;function Lr(t){if(t=t.split("=")[0],t=t.trim().replace(Sr,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Kt(t,e){e=e||1/0;let i;const y=t.length;let C=null;const P=[];for(let R=0;R<y;++R){if(i=t.charCodeAt(R),i>55295&&i<57344){if(!C){if(i>56319){(e-=3)>-1&&P.push(239,191,189);continue}else if(R+1===y){(e-=3)>-1&&P.push(239,191,189);continue}C=i;continue}if(i<56320){(e-=3)>-1&&P.push(239,191,189),C=i;continue}i=(C-55296<<10|i-56320)+65536}else C&&(e-=3)>-1&&P.push(239,191,189);if(C=null,i<128){if((e-=1)<0)break;P.push(i)}else if(i<2048){if((e-=2)<0)break;P.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;P.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;P.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return P}function _r(t){const e=[];for(let i=0;i<t.length;++i)e.push(t.charCodeAt(i)&255);return e}function Cr(t,e){let i,y,C;const P=[];for(let R=0;R<t.length&&!((e-=2)<0);++R)i=t.charCodeAt(R),y=i>>8,C=i%256,P.push(C),P.push(y);return P}function De(t){return T.toByteArray(Lr(t))}function Mt(t,e,i,y){let C;for(C=0;C<y&&!(C+i>=e.length||C>=t.length);++C)e[C+i]=t[C];return C}function wt(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function te(t){return t!==t}const Or=(function(){const t="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){const y=i*16;for(let C=0;C<16;++C)e[y+C]=t[i]+t[C]}return e})();function Nt(t){return typeof BigInt>"u"?Br:t}function Br(){throw new Error("BigInt not supported")}})(r);const w=r.Buffer;s.Blob=r.Blob,s.BlobOptions=r.BlobOptions,s.Buffer=r.Buffer,s.File=r.File,s.FileOptions=r.FileOptions,s.INSPECT_MAX_BYTES=r.INSPECT_MAX_BYTES,s.SlowBuffer=r.SlowBuffer,s.TranscodeEncoding=r.TranscodeEncoding,s.atob=r.atob,s.btoa=r.btoa,s.constants=r.constants,s.default=w,s.isAscii=r.isAscii,s.isUtf8=r.isUtf8,s.kMaxLength=r.kMaxLength,s.kStringMaxLength=r.kStringMaxLength,s.resolveObjectURL=r.resolveObjectURL,s.transcode=r.transcode})(Qe)),Qe}var Je;function Un(){return Je||(Je=1,(function(s,r){var n=Fn(),u=n.Buffer;function h(I,N){for(var b in I)N[b]=I[b]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?s.exports=n:(h(n,r),r.Buffer=g);function g(I,N,b){return u(I,N,b)}g.prototype=Object.create(u.prototype),h(u,g),g.from=function(I,N,b){if(typeof I=="number")throw new TypeError("Argument must not be a number");return u(I,N,b)},g.alloc=function(I,N,b){if(typeof I!="number")throw new TypeError("Argument must be a number");var l=u(I);return N!==void 0?typeof b=="string"?l.fill(N,b):l.fill(N):l.fill(0),l},g.allocUnsafe=function(I){if(typeof I!="number")throw new TypeError("Argument must be a number");return u(I)},g.allocUnsafeSlow=function(I){if(typeof I!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(I)}})(he,he.exports)),he.exports}var Ke;function $n(){if(Ke)return ce;Ke=1;var s=Un().Buffer,r=s.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(w){if(!w)return"utf8";for(var d;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(d)return;w=(""+w).toLowerCase(),d=!0}}function u(w){var d=n(w);if(typeof d!="string"&&(s.isEncoding===r||!r(w)))throw new Error("Unknown encoding: "+w);return d||w}ce.StringDecoder=h;function h(w){this.encoding=u(w);var d;switch(this.encoding){case"utf16le":this.text=A,this.end=f,d=4;break;case"utf8":this.fillLast=b,d=4;break;case"base64":this.text=m,this.end=v,d=3;break;default:this.write=p,this.end=B;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(d)}h.prototype.write=function(w){if(w.length===0)return"";var d,T;if(this.lastNeed){if(d=this.fillLast(w),d===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<w.length?d?d+this.text(w,T):this.text(w,T):d||""},h.prototype.end=o,h.prototype.text=l,h.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function g(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function I(w,d,T){var _=d.length-1;if(_<T)return 0;var O=g(d[_]);return O>=0?(O>0&&(w.lastNeed=O-1),O):--_<T||O===-2?0:(O=g(d[_]),O>=0?(O>0&&(w.lastNeed=O-2),O):--_<T||O===-2?0:(O=g(d[_]),O>=0?(O>0&&(O===2?O=0:w.lastNeed=O-3),O):0))}function N(w,d,T){if((d[0]&192)!==128)return w.lastNeed=0,"";if(w.lastNeed>1&&d.length>1){if((d[1]&192)!==128)return w.lastNeed=1,"";if(w.lastNeed>2&&d.length>2&&(d[2]&192)!==128)return w.lastNeed=2,""}}function b(w){var d=this.lastTotal-this.lastNeed,T=N(this,w);if(T!==void 0)return T;if(this.lastNeed<=w.length)return w.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,d,0,w.length),this.lastNeed-=w.length}function l(w,d){var T=I(this,w,d);if(!this.lastNeed)return w.toString("utf8",d);this.lastTotal=T;var _=w.length-(T-this.lastNeed);return w.copy(this.lastChar,0,_),w.toString("utf8",d,_)}function o(w){var d=w&&w.length?this.write(w):"";return this.lastNeed?d+"":d}function A(w,d){if((w.length-d)%2===0){var T=w.toString("utf16le",d);if(T){var _=T.charCodeAt(T.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",d,w.length-1)}function f(w){var d=w&&w.length?this.write(w):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return d+this.lastChar.toString("utf16le",0,T)}return d}function m(w,d){var T=(w.length-d)%3;return T===0?w.toString("base64",d):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",d,w.length-T))}function v(w){var d=w&&w.length?this.write(w):"";return this.lastNeed?d+this.lastChar.toString("base64",0,3-this.lastNeed):d}function p(w){return w.toString(this.encoding)}function B(w){return w&&w.length?this.write(w):""}return ce}var Mn=$n();const jn=Dr(Mn);var le={},tr,er;function Tr(){return er||(er=1,tr=typeof Rt=="object"&&le&&le.NODE_DEBUG&&/\bsemver\b/i.test(le.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{}),tr}var fe,rr;function Nr(){if(rr)return fe;rr=1;const s="2.0.0",r=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,u=16,h=r-6;return fe={MAX_LENGTH:r,MAX_SAFE_COMPONENT_LENGTH:u,MAX_SAFE_BUILD_LENGTH:h,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:s,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},fe}var pe={exports:{}},nr;function Gn(){return nr||(nr=1,(function(s,r){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:u,MAX_LENGTH:h}=Nr(),g=Tr();r=s.exports={};const I=r.re=[],N=r.safeRe=[],b=r.src=[],l=r.safeSrc=[],o=r.t={};let A=0;const f="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",h],[f,u]],v=B=>{for(const[w,d]of m)B=B.split(`${w}*`).join(`${w}{0,${d}}`).split(`${w}+`).join(`${w}{1,${d}}`);return B},p=(B,w,d)=>{const T=v(w),_=A++;g(B,_,w),o[B]=_,b[_]=w,l[_]=T,I[_]=new RegExp(w,d?"g":void 0),N[_]=new RegExp(T,d?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${b[o.NUMERICIDENTIFIER]})\\.(${b[o.NUMERICIDENTIFIER]})\\.(${b[o.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${b[o.NUMERICIDENTIFIERLOOSE]})\\.(${b[o.NUMERICIDENTIFIERLOOSE]})\\.(${b[o.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${b[o.NONNUMERICIDENTIFIER]}|${b[o.NUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${b[o.NONNUMERICIDENTIFIER]}|${b[o.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASE",`(?:-(${b[o.PRERELEASEIDENTIFIER]}(?:\\.${b[o.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${b[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${b[o.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${b[o.BUILDIDENTIFIER]}(?:\\.${b[o.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${b[o.MAINVERSION]}${b[o.PRERELEASE]}?${b[o.BUILD]}?`),p("FULL",`^${b[o.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${b[o.MAINVERSIONLOOSE]}${b[o.PRERELEASELOOSE]}?${b[o.BUILD]}?`),p("LOOSE",`^${b[o.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${b[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${b[o.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${b[o.XRANGEIDENTIFIER]})(?:\\.(${b[o.XRANGEIDENTIFIER]})(?:\\.(${b[o.XRANGEIDENTIFIER]})(?:${b[o.PRERELEASE]})?${b[o.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${b[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${b[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${b[o.XRANGEIDENTIFIERLOOSE]})(?:${b[o.PRERELEASELOOSE]})?${b[o.BUILD]}?)?)?`),p("XRANGE",`^${b[o.GTLT]}\\s*${b[o.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${b[o.GTLT]}\\s*${b[o.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${b[o.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",b[o.COERCEPLAIN]+`(?:${b[o.PRERELEASE]})?(?:${b[o.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",b[o.COERCE],!0),p("COERCERTLFULL",b[o.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${b[o.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",p("TILDE",`^${b[o.LONETILDE]}${b[o.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${b[o.LONETILDE]}${b[o.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${b[o.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",p("CARET",`^${b[o.LONECARET]}${b[o.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${b[o.LONECARET]}${b[o.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${b[o.GTLT]}\\s*(${b[o.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${b[o.GTLT]}\\s*(${b[o.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${b[o.GTLT]}\\s*(${b[o.LOOSEPLAIN]}|${b[o.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${b[o.XRANGEPLAIN]})\\s+-\\s+(${b[o.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${b[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${b[o.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(pe,pe.exports)),pe.exports}var ge,ir;function kn(){if(ir)return ge;ir=1;const s=Object.freeze({loose:!0}),r=Object.freeze({});return ge=n=>n?typeof n!="object"?s:n:r,ge}var de,or;function Xn(){if(or)return de;or=1;const s=/^[0-9]+$/,r=(n,u)=>{if(typeof n=="number"&&typeof u=="number")return n===u?0:n<u?-1:1;const h=s.test(n),g=s.test(u);return h&&g&&(n=+n,u=+u),n===u?0:h&&!g?-1:g&&!h?1:n<u?-1:1};return de={compareIdentifiers:r,rcompareIdentifiers:(n,u)=>r(u,n)},de}var me,sr;function Ar(){if(sr)return me;sr=1;const s=Tr(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:n}=Nr(),{safeRe:u,t:h}=Gn(),g=kn(),{compareIdentifiers:I}=Xn();class N{constructor(l,o){if(o=g(o),l instanceof N){if(l.loose===!!o.loose&&l.includePrerelease===!!o.includePrerelease)return l;l=l.version}else if(typeof l!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof l}".`);if(l.length>r)throw new TypeError(`version is longer than ${r} characters`);s("SemVer",l,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const A=l.trim().match(o.loose?u[h.LOOSE]:u[h.FULL]);if(!A)throw new TypeError(`Invalid Version: ${l}`);if(this.raw=l,this.major=+A[1],this.minor=+A[2],this.patch=+A[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");A[4]?this.prerelease=A[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const m=+f;if(m>=0&&m<n)return m}return f}):this.prerelease=[],this.build=A[5]?A[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(l){if(s("SemVer.compare",this.version,this.options,l),!(l instanceof N)){if(typeof l=="string"&&l===this.version)return 0;l=new N(l,this.options)}return l.version===this.version?0:this.compareMain(l)||this.comparePre(l)}compareMain(l){return l instanceof N||(l=new N(l,this.options)),this.major<l.major?-1:this.major>l.major?1:this.minor<l.minor?-1:this.minor>l.minor?1:this.patch<l.patch?-1:this.patch>l.patch?1:0}comparePre(l){if(l instanceof N||(l=new N(l,this.options)),this.prerelease.length&&!l.prerelease.length)return-1;if(!this.prerelease.length&&l.prerelease.length)return 1;if(!this.prerelease.length&&!l.prerelease.length)return 0;let o=0;do{const A=this.prerelease[o],f=l.prerelease[o];if(s("prerelease compare",o,A,f),A===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(A===void 0)return-1;if(A!==f)return I(A,f)}while(++o)}compareBuild(l){l instanceof N||(l=new N(l,this.options));let o=0;do{const A=this.build[o],f=l.build[o];if(s("build compare",o,A,f),A===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(A===void 0)return-1;if(A!==f)return I(A,f)}while(++o)}inc(l,o,A){if(l.startsWith("pre")){if(!o&&A===!1)throw new Error("invalid increment argument: identifier is empty");if(o){const f=`-${o}`.match(this.options.loose?u[h.PRERELEASELOOSE]:u[h.PRERELEASE]);if(!f||f[1]!==o)throw new Error(`invalid identifier: ${o}`)}}switch(l){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,A);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,A);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,A),this.inc("pre",o,A);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,A),this.inc("pre",o,A);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(A)?1:0;if(this.prerelease.length===0)this.prerelease=[f];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(o===this.prerelease.join(".")&&A===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(o){let m=[o,f];A===!1&&(m=[o]),I(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${l}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return me=N,me}var Ee,ar;function Vn(){if(ar)return Ee;ar=1;const s=Ar();return Ee=(r,n)=>new s(r,n).major,Ee}Vn();var ye,ur;function Wn(){if(ur)return ye;ur=1;const s=Ar();return ye=(r,n,u=!1)=>{if(r instanceof s)return r;try{return new s(r,n)}catch(h){if(!u)return null;throw h}},ye}var we,cr;function zn(){if(cr)return we;cr=1;const s=Wn();return we=(r,n)=>{const u=s(r,n);return u?u.version:null},we}zn();var hr={},lr;function Yn(){return lr||(lr=1,(function(s){(function(r){r.parser=function(c,a){return new u(c,a)},r.SAXParser=u,r.SAXStream=o,r.createStream=l,r.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];r.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function u(c,a){if(!(this instanceof u))return new u(c,a);var x=this;g(x),x.q=x.c="",x.bufferCheckPosition=r.MAX_BUFFER_LENGTH,x.opt=a||{},x.opt.lowercase=x.opt.lowercase||x.opt.lowercasetags,x.looseCase=x.opt.lowercase?"toLowerCase":"toUpperCase",x.tags=[],x.closed=x.closedRoot=x.sawRoot=!1,x.tag=x.error=null,x.strict=!!c,x.noscript=!!(c||x.opt.noscript),x.state=E.BEGIN,x.strictEntities=x.opt.strictEntities,x.ENTITIES=x.strictEntities?Object.create(r.XML_ENTITIES):Object.create(r.ENTITIES),x.attribList=[],x.opt.xmlns&&(x.ns=Object.create(p)),x.opt.unquotedAttributeValues===void 0&&(x.opt.unquotedAttributeValues=!c),x.trackPosition=x.opt.position!==!1,x.trackPosition&&(x.position=x.line=x.column=0),k(x,"onready")}Object.create||(Object.create=function(c){function a(){}a.prototype=c;var x=new a;return x}),Object.keys||(Object.keys=function(c){var a=[];for(var x in c)c.hasOwnProperty(x)&&a.push(x);return a});function h(c){for(var a=Math.max(r.MAX_BUFFER_LENGTH,10),x=0,L=0,G=n.length;L<G;L++){var q=c[n[L]].length;if(q>a)switch(n[L]){case"textNode":F(c);break;case"cdata":S(c,"oncdata",c.cdata),c.cdata="";break;case"script":S(c,"onscript",c.script),c.script="";break;default:z(c,"Max buffer length exceeded: "+n[L])}x=Math.max(x,q)}var H=r.MAX_BUFFER_LENGTH-x;c.bufferCheckPosition=H+c.position}function g(c){for(var a=0,x=n.length;a<x;a++)c[n[a]]=""}function I(c){F(c),c.cdata!==""&&(S(c,"oncdata",c.cdata),c.cdata=""),c.script!==""&&(S(c,"onscript",c.script),c.script="")}u.prototype={end:function(){ot(this)},write:Et,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){I(this)}};var N;try{N=require("stream").Stream}catch{N=function(){}}N||(N=function(){});var b=r.EVENTS.filter(function(c){return c!=="error"&&c!=="end"});function l(c,a){return new o(c,a)}function o(c,a){if(!(this instanceof o))return new o(c,a);N.apply(this),this._parser=new u(c,a),this.writable=!0,this.readable=!0;var x=this;this._parser.onend=function(){x.emit("end")},this._parser.onerror=function(L){x.emit("error",L),x._parser.error=null},this._decoder=null,b.forEach(function(L){Object.defineProperty(x,"on"+L,{get:function(){return x._parser["on"+L]},set:function(G){if(!G)return x.removeAllListeners(L),x._parser["on"+L]=G,G;x.on(L,G)},enumerable:!0,configurable:!1})})}o.prototype=Object.create(N.prototype,{constructor:{value:o}}),o.prototype.write=function(c){if(typeof ee=="function"&&typeof ee.isBuffer=="function"&&ee.isBuffer(c)){if(!this._decoder){var a=jn.StringDecoder;this._decoder=new a("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},o.prototype.end=function(c){return c&&c.length&&this.write(c),this._parser.end(),!0},o.prototype.on=function(c,a){var x=this;return!x._parser["on"+c]&&b.indexOf(c)!==-1&&(x._parser["on"+c]=function(){var L=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);L.splice(0,0,c),x.emit.apply(x,L)}),N.prototype.on.call(x,c,a)};var A="[CDATA[",f="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",p={xml:m,xmlns:v},B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function _(c){return c===" "||c===`
`||c==="\r"||c==="	"}function O(c){return c==='"'||c==="'"}function U(c){return c===">"||_(c)}function D(c,a){return c.test(a)}function $(c,a){return!D(c,a)}var E=0;r.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},r.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},r.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(r.ENTITIES).forEach(function(c){var a=r.ENTITIES[c],x=typeof a=="number"?String.fromCharCode(a):a;r.ENTITIES[c]=x});for(var M in r.STATE)r.STATE[r.STATE[M]]=M;E=r.STATE;function k(c,a,x){c[a]&&c[a](x)}function S(c,a,x){c.textNode&&F(c),k(c,a,x)}function F(c){c.textNode=tt(c.opt,c.textNode),c.textNode&&k(c,"ontext",c.textNode),c.textNode=""}function tt(c,a){return c.trim&&(a=a.trim()),c.normalize&&(a=a.replace(/\s+/g," ")),a}function z(c,a){return F(c),c.trackPosition&&(a+=`
Line: `+c.line+`
Column: `+c.column+`
Char: `+c.c),a=new Error(a),c.error=a,k(c,"onerror",a),c}function ot(c){return c.sawRoot&&!c.closedRoot&&j(c,"Unclosed root tag"),c.state!==E.BEGIN&&c.state!==E.BEGIN_WHITESPACE&&c.state!==E.TEXT&&z(c,"Unexpected end"),F(c),c.c="",c.closed=!0,k(c,"onend"),u.call(c,c.strict,c.opt),c}function j(c,a){if(typeof c!="object"||!(c instanceof u))throw new Error("bad call to strictFail");c.strict&&z(c,a)}function et(c){c.strict||(c.tagName=c.tagName[c.looseCase]());var a=c.tags[c.tags.length-1]||c,x=c.tag={name:c.tagName,attributes:{}};c.opt.xmlns&&(x.ns=a.ns),c.attribList.length=0,S(c,"onopentagstart",x)}function dt(c,a){var x=c.indexOf(":"),L=x<0?["",c]:c.split(":"),G=L[0],q=L[1];return a&&c==="xmlns"&&(G="xmlns",q=""),{prefix:G,local:q}}function mt(c){if(c.strict||(c.attribName=c.attribName[c.looseCase]()),c.attribList.indexOf(c.attribName)!==-1||c.tag.attributes.hasOwnProperty(c.attribName)){c.attribName=c.attribValue="";return}if(c.opt.xmlns){var a=dt(c.attribName,!0),x=a.prefix,L=a.local;if(x==="xmlns")if(L==="xml"&&c.attribValue!==m)j(c,"xml: prefix must be bound to "+m+`
Actual: `+c.attribValue);else if(L==="xmlns"&&c.attribValue!==v)j(c,"xmlns: prefix must be bound to "+v+`
Actual: `+c.attribValue);else{var G=c.tag,q=c.tags[c.tags.length-1]||c;G.ns===q.ns&&(G.ns=Object.create(q.ns)),G.ns[L]=c.attribValue}c.attribList.push([c.attribName,c.attribValue])}else c.tag.attributes[c.attribName]=c.attribValue,S(c,"onattribute",{name:c.attribName,value:c.attribValue});c.attribName=c.attribValue=""}function J(c,a){if(c.opt.xmlns){var x=c.tag,L=dt(c.tagName);x.prefix=L.prefix,x.local=L.local,x.uri=x.ns[L.prefix]||"",x.prefix&&!x.uri&&(j(c,"Unbound namespace prefix: "+JSON.stringify(c.tagName)),x.uri=L.prefix);var G=c.tags[c.tags.length-1]||c;x.ns&&G.ns!==x.ns&&Object.keys(x.ns).forEach(function(Q){S(c,"onopennamespace",{prefix:Q,uri:x.ns[Q]})});for(var q=0,H=c.attribList.length;q<H;q++){var at=c.attribList[q],rt=at[0],bt=at[1],K=dt(rt,!0),yt=K.prefix,Zt=K.local,$t=yt===""?"":x.ns[yt]||"",Ct={name:rt,value:bt,prefix:yt,local:Zt,uri:$t};yt&&yt!=="xmlns"&&!$t&&(j(c,"Unbound namespace prefix: "+JSON.stringify(yt)),Ct.uri=yt),c.tag.attributes[rt]=Ct,S(c,"onattribute",Ct)}c.attribList.length=0}c.tag.isSelfClosing=!!a,c.sawRoot=!0,c.tags.push(c.tag),S(c,"onopentag",c.tag),a||(!c.noscript&&c.tagName.toLowerCase()==="script"?c.state=E.SCRIPT:c.state=E.TEXT,c.tag=null,c.tagName=""),c.attribName=c.attribValue="",c.attribList.length=0}function st(c){if(!c.tagName){j(c,"Weird empty close tag."),c.textNode+="</>",c.state=E.TEXT;return}if(c.script){if(c.tagName!=="script"){c.script+="</"+c.tagName+">",c.tagName="",c.state=E.SCRIPT;return}S(c,"onscript",c.script),c.script=""}var a=c.tags.length,x=c.tagName;c.strict||(x=x[c.looseCase]());for(var L=x;a--;){var G=c.tags[a];if(G.name!==L)j(c,"Unexpected close tag");else break}if(a<0){j(c,"Unmatched closing tag: "+c.tagName),c.textNode+="</"+c.tagName+">",c.state=E.TEXT;return}c.tagName=x;for(var q=c.tags.length;q-- >a;){var H=c.tag=c.tags.pop();c.tagName=c.tag.name,S(c,"onclosetag",c.tagName);var at={};for(var rt in H.ns)at[rt]=H.ns[rt];var bt=c.tags[c.tags.length-1]||c;c.opt.xmlns&&H.ns!==bt.ns&&Object.keys(H.ns).forEach(function(K){var yt=H.ns[K];S(c,"onclosenamespace",{prefix:K,uri:yt})})}a===0&&(c.closedRoot=!0),c.tagName=c.attribValue=c.attribName="",c.attribList.length=0,c.state=E.TEXT}function St(c){var a=c.entity,x=a.toLowerCase(),L,G="";return c.ENTITIES[a]?c.ENTITIES[a]:c.ENTITIES[x]?c.ENTITIES[x]:(a=x,a.charAt(0)==="#"&&(a.charAt(1)==="x"?(a=a.slice(2),L=parseInt(a,16),G=L.toString(16)):(a=a.slice(1),L=parseInt(a,10),G=L.toString(10))),a=a.replace(/^0+/,""),isNaN(L)||G.toLowerCase()!==a?(j(c,"Invalid character entity"),"&"+c.entity+";"):String.fromCodePoint(L))}function Tt(c,a){a==="<"?(c.state=E.OPEN_WAKA,c.startTagPosition=c.position):_(a)||(j(c,"Non-whitespace before first tag."),c.textNode=a,c.state=E.TEXT)}function ft(c,a){var x="";return a<c.length&&(x=c.charAt(a)),x}function Et(c){var a=this;if(this.error)throw this.error;if(a.closed)return z(a,"Cannot write after close. Assign an onready handler.");if(c===null)return ot(a);typeof c=="object"&&(c=c.toString());for(var x=0,L="";L=ft(c,x++),a.c=L,!!L;)switch(a.trackPosition&&(a.position++,L===`
`?(a.line++,a.column=0):a.column++),a.state){case E.BEGIN:if(a.state=E.BEGIN_WHITESPACE,L==="\uFEFF")continue;Tt(a,L);continue;case E.BEGIN_WHITESPACE:Tt(a,L);continue;case E.TEXT:if(a.sawRoot&&!a.closedRoot){for(var G=x-1;L&&L!=="<"&&L!=="&";)L=ft(c,x++),L&&a.trackPosition&&(a.position++,L===`
`?(a.line++,a.column=0):a.column++);a.textNode+=c.substring(G,x-1)}L==="<"&&!(a.sawRoot&&a.closedRoot&&!a.strict)?(a.state=E.OPEN_WAKA,a.startTagPosition=a.position):(!_(L)&&(!a.sawRoot||a.closedRoot)&&j(a,"Text data outside of root node."),L==="&"?a.state=E.TEXT_ENTITY:a.textNode+=L);continue;case E.SCRIPT:L==="<"?a.state=E.SCRIPT_ENDING:a.script+=L;continue;case E.SCRIPT_ENDING:L==="/"?a.state=E.CLOSE_TAG:(a.script+="<"+L,a.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(L==="!")a.state=E.SGML_DECL,a.sgmlDecl="";else if(!_(L))if(D(B,L))a.state=E.OPEN_TAG,a.tagName=L;else if(L==="/")a.state=E.CLOSE_TAG,a.tagName="";else if(L==="?")a.state=E.PROC_INST,a.procInstName=a.procInstBody="";else{if(j(a,"Unencoded <"),a.startTagPosition+1<a.position){var q=a.position-a.startTagPosition;L=new Array(q).join(" ")+L}a.textNode+="<"+L,a.state=E.TEXT}continue;case E.SGML_DECL:if(a.sgmlDecl+L==="--"){a.state=E.COMMENT,a.comment="",a.sgmlDecl="";continue}a.doctype&&a.doctype!==!0&&a.sgmlDecl?(a.state=E.DOCTYPE_DTD,a.doctype+="<!"+a.sgmlDecl+L,a.sgmlDecl=""):(a.sgmlDecl+L).toUpperCase()===A?(S(a,"onopencdata"),a.state=E.CDATA,a.sgmlDecl="",a.cdata=""):(a.sgmlDecl+L).toUpperCase()===f?(a.state=E.DOCTYPE,(a.doctype||a.sawRoot)&&j(a,"Inappropriately located doctype declaration"),a.doctype="",a.sgmlDecl=""):L===">"?(S(a,"onsgmldeclaration",a.sgmlDecl),a.sgmlDecl="",a.state=E.TEXT):(O(L)&&(a.state=E.SGML_DECL_QUOTED),a.sgmlDecl+=L);continue;case E.SGML_DECL_QUOTED:L===a.q&&(a.state=E.SGML_DECL,a.q=""),a.sgmlDecl+=L;continue;case E.DOCTYPE:L===">"?(a.state=E.TEXT,S(a,"ondoctype",a.doctype),a.doctype=!0):(a.doctype+=L,L==="["?a.state=E.DOCTYPE_DTD:O(L)&&(a.state=E.DOCTYPE_QUOTED,a.q=L));continue;case E.DOCTYPE_QUOTED:a.doctype+=L,L===a.q&&(a.q="",a.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:L==="]"?(a.doctype+=L,a.state=E.DOCTYPE):L==="<"?(a.state=E.OPEN_WAKA,a.startTagPosition=a.position):O(L)?(a.doctype+=L,a.state=E.DOCTYPE_DTD_QUOTED,a.q=L):a.doctype+=L;continue;case E.DOCTYPE_DTD_QUOTED:a.doctype+=L,L===a.q&&(a.state=E.DOCTYPE_DTD,a.q="");continue;case E.COMMENT:L==="-"?a.state=E.COMMENT_ENDING:a.comment+=L;continue;case E.COMMENT_ENDING:L==="-"?(a.state=E.COMMENT_ENDED,a.comment=tt(a.opt,a.comment),a.comment&&S(a,"oncomment",a.comment),a.comment=""):(a.comment+="-"+L,a.state=E.COMMENT);continue;case E.COMMENT_ENDED:L!==">"?(j(a,"Malformed comment"),a.comment+="--"+L,a.state=E.COMMENT):a.doctype&&a.doctype!==!0?a.state=E.DOCTYPE_DTD:a.state=E.TEXT;continue;case E.CDATA:L==="]"?a.state=E.CDATA_ENDING:a.cdata+=L;continue;case E.CDATA_ENDING:L==="]"?a.state=E.CDATA_ENDING_2:(a.cdata+="]"+L,a.state=E.CDATA);continue;case E.CDATA_ENDING_2:L===">"?(a.cdata&&S(a,"oncdata",a.cdata),S(a,"onclosecdata"),a.cdata="",a.state=E.TEXT):L==="]"?a.cdata+="]":(a.cdata+="]]"+L,a.state=E.CDATA);continue;case E.PROC_INST:L==="?"?a.state=E.PROC_INST_ENDING:_(L)?a.state=E.PROC_INST_BODY:a.procInstName+=L;continue;case E.PROC_INST_BODY:if(!a.procInstBody&&_(L))continue;L==="?"?a.state=E.PROC_INST_ENDING:a.procInstBody+=L;continue;case E.PROC_INST_ENDING:L===">"?(S(a,"onprocessinginstruction",{name:a.procInstName,body:a.procInstBody}),a.procInstName=a.procInstBody="",a.state=E.TEXT):(a.procInstBody+="?"+L,a.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:D(w,L)?a.tagName+=L:(et(a),L===">"?J(a):L==="/"?a.state=E.OPEN_TAG_SLASH:(_(L)||j(a,"Invalid character in tag name"),a.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:L===">"?(J(a,!0),st(a)):(j(a,"Forward-slash in opening tag not followed by >"),a.state=E.ATTRIB);continue;case E.ATTRIB:if(_(L))continue;L===">"?J(a):L==="/"?a.state=E.OPEN_TAG_SLASH:D(B,L)?(a.attribName=L,a.attribValue="",a.state=E.ATTRIB_NAME):j(a,"Invalid attribute name");continue;case E.ATTRIB_NAME:L==="="?a.state=E.ATTRIB_VALUE:L===">"?(j(a,"Attribute without value"),a.attribValue=a.attribName,mt(a),J(a)):_(L)?a.state=E.ATTRIB_NAME_SAW_WHITE:D(w,L)?a.attribName+=L:j(a,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(L==="=")a.state=E.ATTRIB_VALUE;else{if(_(L))continue;j(a,"Attribute without value"),a.tag.attributes[a.attribName]="",a.attribValue="",S(a,"onattribute",{name:a.attribName,value:""}),a.attribName="",L===">"?J(a):D(B,L)?(a.attribName=L,a.state=E.ATTRIB_NAME):(j(a,"Invalid attribute name"),a.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(_(L))continue;O(L)?(a.q=L,a.state=E.ATTRIB_VALUE_QUOTED):(a.opt.unquotedAttributeValues||z(a,"Unquoted attribute value"),a.state=E.ATTRIB_VALUE_UNQUOTED,a.attribValue=L);continue;case E.ATTRIB_VALUE_QUOTED:if(L!==a.q){L==="&"?a.state=E.ATTRIB_VALUE_ENTITY_Q:a.attribValue+=L;continue}mt(a),a.q="",a.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:_(L)?a.state=E.ATTRIB:L===">"?J(a):L==="/"?a.state=E.OPEN_TAG_SLASH:D(B,L)?(j(a,"No whitespace between attributes"),a.attribName=L,a.attribValue="",a.state=E.ATTRIB_NAME):j(a,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!U(L)){L==="&"?a.state=E.ATTRIB_VALUE_ENTITY_U:a.attribValue+=L;continue}mt(a),L===">"?J(a):a.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(a.tagName)L===">"?st(a):D(w,L)?a.tagName+=L:a.script?(a.script+="</"+a.tagName,a.tagName="",a.state=E.SCRIPT):(_(L)||j(a,"Invalid tagname in closing tag"),a.state=E.CLOSE_TAG_SAW_WHITE);else{if(_(L))continue;$(B,L)?a.script?(a.script+="</"+L,a.state=E.SCRIPT):j(a,"Invalid tagname in closing tag."):a.tagName=L}continue;case E.CLOSE_TAG_SAW_WHITE:if(_(L))continue;L===">"?st(a):j(a,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var H,at;switch(a.state){case E.TEXT_ENTITY:H=E.TEXT,at="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:H=E.ATTRIB_VALUE_QUOTED,at="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:H=E.ATTRIB_VALUE_UNQUOTED,at="attribValue";break}if(L===";"){var rt=St(a);a.opt.unparsedEntities&&!Object.values(r.XML_ENTITIES).includes(rt)?(a.entity="",a.state=H,a.write(rt)):(a[at]+=rt,a.entity="",a.state=H)}else D(a.entity.length?T:d,L)?a.entity+=L:(j(a,"Invalid character in entity name"),a[at]+="&"+a.entity+L,a.entity="",a.state=H);continue;default:throw new Error(a,"Unknown state: "+a.state)}return a.position>=a.bufferCheckPosition&&h(a),a}String.fromCodePoint||(function(){var c=String.fromCharCode,a=Math.floor,x=function(){var L=16384,G=[],q,H,at=-1,rt=arguments.length;if(!rt)return"";for(var bt="";++at<rt;){var K=Number(arguments[at]);if(!isFinite(K)||K<0||K>1114111||a(K)!==K)throw RangeError("Invalid code point: "+K);K<=65535?G.push(K):(K-=65536,q=(K>>10)+55296,H=K%1024+56320,G.push(q,H)),(at+1===rt||G.length>L)&&(bt+=c.apply(null,G),G.length=0)}return bt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:x,configurable:!0,writable:!0}):String.fromCodePoint=x})()})(s)})(hr)),hr}Yn();var Ht;(function(s){s[s.User=0]="User",s[s.Group=1]="Group",s[s.Link=3]="Link",s[s.Email=4]="Email",s[s.Remote=6]="Remote",s[s.Team=7]="Team",s[s.Guest=8]="Guest",s[s.RemoteGroup=9]="RemoteGroup",s[s.Room=10]="Room",s[s.Deck=12]="Deck",s[s.FederatedGroup=14]="FederatedGroup",s[s.ScienceMesh=15]="ScienceMesh"})(Ht||(Ht={}));function qn(s){if(!s.id)throw new Error("Sidebar actions must have an id");if(!s.element||!s.element.startsWith("oca_")||!window.customElements.get(s.element))throw new Error("Sidebar actions must provide a registered custom web component identifier");if(typeof s.order!="number")throw new Error("Sidebar actions must have the order property");if(typeof s.enabled!="function")throw new Error('Sidebar actions must implement the "enabled" method');if(window._nc_files_sharing_sidebar_actions??=new Map,window._nc_files_sharing_sidebar_actions.has(s.id))throw new Error(`Sidebar action with id "${s.id}" is already registered`);window._nc_files_sharing_sidebar_actions.set(s.id,s)}const Hn=["role"],Qn={key:0,class:"notecard__heading"},Zn={class:"notecard__text"},Jn=fr({__name:"NcNoteCard",props:{heading:{default:void 0},showAlert:{type:Boolean},text:{default:void 0},type:{default:"warning"}},setup(s){const r=s,n=Ue(()=>r.showAlert||r.type==="error"),u=Ue(()=>{switch(r.type){case"error":return Xr;case"success":return kr;case"info":return Gr;case"warning":default:return jr}});return(h,g)=>(zt(),Wt("div",{class:Ft(["notecard",{[`notecard--${h.type}`]:h.type,"notecard--legacy":$e(Mr)}]),role:n.value?"alert":"note"},[Re(h.$slots,"icon",{},()=>[xt($e($r),{path:u.value,class:Ft(["notecard__icon",{"notecard__icon--heading":h.heading}]),inline:""},null,8,["path","class"])],!0),Fe("div",null,[h.heading?(zt(),Wt("p",Qn,Ut(h.heading),1)):pr("",!0),Re(h.$slots,"default",{},()=>[Fe("p",Zn,Ut(h.text),1)],!0)])],10,Hn))}}),Kn=Ur(Jn,[["__scopeId","data-v-7e4656f9"]]);async function ti(s){return(await Ne.get(Ae("/apps/files_downloadlimit/api/v1/{token}/limit",{token:s}))).data.ocs.data}async function ei(s,r){return(await Ne.put(Ae("/apps/files_downloadlimit/api/v1/{token}/limit",{token:s}),{limit:r})).data.ocs.data}async function ri(s){return(await Ne.delete(Ae("/apps/files_downloadlimit/api/v1/{token}/limit",{token:s}))).data.ocs.data}const be=Te("files_downloadlimit","default-download-limit",-1),ni=fr({name:"DownloadLimitEntry",components:{NcCheckboxRadioSwitch:Wr,NcNoteCard:Kn,NcTextField:Vr},props:{share:{type:Object,required:!0},onSave:{type:Function,required:!0}},data(){return{limitEnabled:be!==-1,initialLimit:null,limit:be===-1?10:be,count:null,loading:!1,hasError:!1}},computed:{remainingCount(){return(this.initialLimit??0)-(this.count??0)},helperText(){return this.limit&&this.limit>0?"":jt("files_downloadlimit","The minimum limit is 1")},isNewShare(){return this.share.id===null||this.share.id===void 0},showRemainingDownloadsNote(){return typeof this.count=="number"},showResetNote(){return!this.isNewShare&&!!this.initialLimit&&typeof this.limit=="number"&&this.limit!==this.initialLimit}},watch:{share:{deep:!0,immediate:!0,async handler(s,r){if(!s?.id||r?.id){It.debug("Skip undefined share");return}if(this.onSave(this.save),s.id===r?.id&&this.limit){It.debug("Same share given, skip loading download limit",{share:s,oldShare:r});return}It.debug("Loading download limit",{share:this.share}),this.loading=!0;try{const{limit:n,count:u}=await ti(this.share.token);typeof n=="number"&&typeof u=="number"&&(this.limitEnabled=!!n,this.initialLimit=n,this.limit=n,this.count=u)}catch(n){this.hasError=!0,It.error("Failed to load download limit",{error:n,share:this.share})}this.loading=!1}}},methods:{n:Rr,t:jt,async save(){if(typeof this.limit!="number"||this.limit<=0){It.debug("Skip saving invalid limit",{limit:this.limit});return}if(this.isNewShare||this.limit!==this.initialLimit){try{await ei(this.share.token,this.limit)}catch(s){It.error("Failed to set the download limit",{error:s,limit:this.limit,share:this.share}),Me(jt("files_downloadlimit","Failed to set download limit"))}return}if(!this.limitEnabled&&this.initialLimit)try{await ri(this.share.token)}catch(s){It.error("Failed to remove the download limit",{error:s,share:this.share}),Me(jt("files_downloadlimit","Failed to remove download limit"))}}}}),ii="_action__wrapper_19i6i_1",oi="_action__countNote_19i6i_4",si="_action__resetNote_19i6i_7",ai={action__wrapper:ii,action__countNote:oi,action__resetNote:si};function ui(s,r,n,u,h,g){const I=re("NcCheckboxRadioSwitch"),N=re("NcNoteCard"),b=re("NcTextField");return zt(),Wt("div",{class:Ft(s.$style.action__wrapper)},[xt(I,{modelValue:s.limitEnabled,"onUpdate:modelValue":r[0]||(r[0]=l=>s.limitEnabled=l),loading:s.loading,disabled:s.hasError},{default:ne(()=>[ie(Ut(s.t("files_downloadlimit","Limit downloads")),1)]),_:1},8,["modelValue","loading","disabled"]),!s.loading&&!s.hasError?(zt(),Wt(Yr,{key:0},[oe(xt(N,{class:Ft(s.$style.action__countNote),type:"info"},{default:ne(()=>[ie(Ut(s.n("files_downloadlimit","1 remaining download allowed","{count} remaining downloads allowed",s.remainingCount,{count:s.remainingCount})),1)]),_:1},8,["class"]),[[se,s.limitEnabled&&s.showRemainingDownloadsNote]]),oe(xt(b,{modelValue:s.limit,"onUpdate:modelValue":r[1]||(r[1]=l=>s.limit=l),label:s.t("files_downloadlimit","Set download limit"),type:"number",min:"1",error:s.helperText!=="","helper-text":s.helperText},null,8,["modelValue","label","error","helper-text"]),[[se,s.limitEnabled]]),oe(xt(N,{class:Ft(s.$style.action__resetNote),type:"warning"},{default:ne(()=>[ie(Ut(s.t("files_downloadlimit","Setting a new limit will reset the download count")),1)]),_:1},8,["class"]),[[se,s.limitEnabled&&s.showResetNote]])],64)):pr("",!0)],2)}const ci={$style:ai},hi=zr(ni,[["render",ui],["__cssModules",ci]]),vr="oca_files_downloadlimit-sharing_action",li={id:"files_downloadlimit",element:vr,order:20,enabled(s,r){return s.type!==Ht.Email&&s.type!==Ht.Link||!s.token?!1:r.type===br.File}},fi=qr(hi,{shadowRoot:!1});window.customElements.define(vr,fi),qn(li);
//# sourceMappingURL=files_downloadlimit-main.mjs.map
